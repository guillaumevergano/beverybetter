-- ============================================
-- Be Very Better ‚Äî Contenu pr√©-g√©n√©r√©
-- G√©n√©r√© le 2026-02-12
-- ============================================

-- Ce fichier ins√®re le contenu g√©n√©r√© par Claude dans generated_content.
-- Il utilise les chapter IDs en se basant sur (tech_id, display_order).
-- √Ä ex√©cuter APR√àS 001_initial_schema.sql et 002_seed_data.sql.

-- Cours : Introduction √† Next.js
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Qu''est-ce que Next.js ?","content":"Next.js est un framework React moderne et puissant d√©velopp√© par Vercel. Tu peux le voir comme une bo√Æte √† outils qui vient enrichir React avec de nombreuses fonctionnalit√©s pr√™tes √† l''emploi. Alors que React se concentre sur la cr√©ation d''interfaces utilisateur, Next.js va plus loin en offrant une solution compl√®te pour d√©velopper des applications web performantes.\n\nImagine que React soit comme un moteur de voiture excellent, mais Next.js serait la voiture compl√®te avec toutes les options : climatisation, GPS, syst√®me audio, etc. Next.js ajoute √† React des fonctionnalit√©s essentielles comme le routage automatique, l''optimisation des performances, le rendu c√¥t√© serveur, et bien plus encore.\n\nCe qui rend Next.js particuli√®rement attrayant, c''est sa philosophie \"zero-config\". Cela signifie que tu peux commencer √† d√©velopper imm√©diatement sans passer des heures √† configurer webpack, babel ou d''autres outils complexes. Next.js s''occupe de toute la configuration technique pour toi, te permettant de te concentrer sur ce qui compte vraiment : cr√©er ton application."},{"title":"Pourquoi choisir Next.js ?","content":"Next.js r√©sout plusieurs probl√®mes majeurs que tu pourrais rencontrer avec une application React classique. Premi√®rement, le **SEO** (r√©f√©rencement naturel). Les applications React traditionnelles sont des SPA (Single Page Applications) qui peuvent √™tre difficiles √† indexer par les moteurs de recherche. Next.js propose le Server-Side Rendering (SSR) qui g√©n√®re le HTML c√¥t√© serveur, rendant tes pages parfaitement lisibles par Google.\n\nDeuxi√®mement, les **performances**. Next.js optimise automatiquement ton code avec des techniques comme le code splitting (division du code), la compression d''images, et la pr√©charge intelligente des pages. Ton application se charge plus rapidement et offre une meilleure exp√©rience utilisateur.\n\nTroisi√®mement, la **simplicit√© de d√©veloppement**. Plus besoin de configurer React Router pour la navigation - Next.js utilise un syst√®me de routage bas√© sur les fichiers. Tu cr√©√©s un fichier dans le dossier `pages`, et hop ! Tu as une nouvelle route.\n\nEnfin, Next.js est **production-ready** d√®s le d√©part. Il inclut tout ce dont tu as besoin pour d√©ployer une application professionnelle : optimisations automatiques, support TypeScript natif, API routes pour cr√©er des endpoints, et une excellente int√©gration avec les plateformes de d√©ploiement."},{"title":"Installation et configuration de Next.js","content":"Cr√©er ton premier projet Next.js est √©tonnamment simple ! Tu as plusieurs options, mais je vais te montrer la m√©thode la plus directe. Assure-toi d''avoir Node.js install√© sur ton ordinateur (version 14 ou plus r√©cente).\n\nLa m√©thode recommand√©e utilise `create-next-app`, un outil qui configure automatiquement tout pour toi :\n\n```bash\nnpx create-next-app@latest mon-premier-projet\ncd mon-premier-projet\nnpm run dev\n```\n\nCette commande va cr√©er un nouveau dossier avec tous les fichiers n√©cessaires et installer toutes les d√©pendances. Le `npm run dev` lance ton serveur de d√©veloppement sur `http://localhost:3000`.\n\nSi tu pr√©f√®res une installation manuelle pour mieux comprendre :\n\n```bash\nmkdir mon-projet-nextjs\ncd mon-projet-nextjs\nnpm init -y\nnpm install next react react-dom\n```\n\nPuis ajoute ces scripts dans ton `package.json` :\n\n```json\n{\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\"\n  }\n}\n```\n\nL''avantage de `create-next-app` est qu''il configure √©galement ESLint, et te propose des templates avec TypeScript, Tailwind CSS ou d''autres outils populaires."},{"title":"Structure d''un projet Next.js","content":"Un projet Next.js a une structure bien organis√©e qui peut sembler nouvelle si tu viens de React classique. Voici les dossiers et fichiers principaux que tu vas rencontrer :\n\nLe dossier **`pages/`** est le c≈ìur de ton application. Chaque fichier `.js` ou `.jsx` dans ce dossier devient automatiquement une route. Par exemple :\n\n```\npages/\n  index.js        ‚Üí route ''/''\n  about.js        ‚Üí route ''/about''\n  blog/\n    index.js      ‚Üí route ''/blog''\n    [slug].js     ‚Üí route dynamique ''/blog/mon-article''\n```\n\nLe dossier **`public/`** contient tes fichiers statiques (images, favicon, etc.). Tout ce qui est dans ce dossier est accessible directement depuis la racine de ton site.\n\nLe dossier **`styles/`** contient tes fichiers CSS. Next.js supporte nativement les CSS Modules et Sass.\n\nD''autres dossiers importants incluent :\n- **`components/`** (optionnel) : pour tes composants r√©utilisables\n- **`lib/`** (optionnel) : pour tes utilitaires et helpers\n- **`api/`** dans pages : pour cr√©er des endpoints d''API\n\nLes fichiers de configuration comme `next.config.js` te permettent de personnaliser le comportement de Next.js, mais dans la plupart des cas, la configuration par d√©faut suffit amplement."},{"title":"Cr√©er ta premi√®re page","content":"Maintenant, cr√©ons ta premi√®re page personnalis√©e ! Dans Next.js, une page est simplement un composant React export√© depuis le dossier `pages/`. Voici un exemple concret :\n\n```jsx\n// pages/hello.js\nimport Head from ''next/head''\n\nfunction HelloPage() {\n  return (\n    <div>\n      <Head>\n        <title>Ma premi√®re page Next.js</title>\n        <meta name=\"description\" content=\"D√©couverte de Next.js\" />\n      </Head>\n      \n      <main>\n        <h1>Bonjour Next.js ! üëã</h1>\n        <p>Ceci est ma premi√®re page cr√©√©e avec Next.js.</p>\n        <button onClick={() => alert(''√áa marche !'')}>Clique-moi</button>\n      </main>\n    </div>\n  )\n}\n\nexport default HelloPage\n```\n\nSauvegarde ce fichier et va sur `http://localhost:3000/hello`. Ta page s''affiche automatiquement ! Remarque plusieurs choses importantes :\n\nLe composant `Head` de Next.js te permet de modifier les m√©tadonn√©es de la page (titre, description, etc.). C''est crucial pour le SEO.\n\nPas besoin d''importer React dans tes composants - Next.js s''en charge automatiquement.\n\nTu peux cr√©er des sous-dossiers pour organiser tes routes :\n\n```jsx\n// pages/blog/premier-article.js\nfunction Article() {\n  return <h1>Mon premier article de blog</h1>\n}\n\nexport default Article\n```\n\nCette page sera accessible sur `/blog/premier-article`. Simple et intuitif !"}],"keyPoints":["Next.js est un framework React qui ajoute des fonctionnalit√©s essentielles comme le routage automatique et le rendu c√¥t√© serveur","L''installation est simple avec `create-next-app` - pas de configuration complexe n√©cessaire","Le syst√®me de routage est bas√© sur les fichiers : chaque fichier dans `pages/` devient une route automatiquement","Next.js optimise automatiquement les performances et am√©liore le SEO par rapport √† une app React classique","Une page Next.js est un simple composant React export√© par d√©faut depuis le dossier `pages/`"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 1;

-- QCM : Introduction √† Next.js
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Qu''est-ce que Next.js ?","options":["Une base de donn√©es","Un framework React pour le d√©veloppement web","Un √©diteur de code","Un langage de programmation"],"correct":1,"explanation":"Next.js est un framework bas√© sur React qui facilite le d√©veloppement d''applications web modernes avec des fonctionnalit√©s avanc√©es int√©gr√©es."},{"question":"Quel est l''avantage principal du rendu c√¥t√© serveur (SSR) dans Next.js ?","options":["R√©duction de la taille des fichiers","Am√©lioration du SEO et des performances","Simplification du code","R√©duction des co√ªts d''h√©bergement"],"correct":1,"explanation":"Le SSR am√©liore le r√©f√©rencement naturel car les moteurs de recherche peuvent indexer le contenu directement, et acc√©l√®re le chargement initial des pages."},{"question":"Quelle commande permet de cr√©er un nouveau projet Next.js ?","options":["npm install nextjs","npx create-next-app","next new project","npm start nextjs"],"correct":1,"explanation":"La commande ''npx create-next-app'' est l''outil officiel recommand√© pour initialiser rapidement un nouveau projet Next.js avec une structure pr√™te √† l''emploi."},{"question":"Dans Next.js, o√π doit-on placer les pages de son application ?","options":["Dans le dossier /components","Dans le dossier /pages ou /app","Dans le dossier /public","Dans le dossier /styles"],"correct":1,"explanation":"Next.js utilise un syst√®me de routage bas√© sur les fichiers : chaque fichier dans /pages (ou /app avec App Router) devient automatiquement une route accessible."},{"question":"Quelle fonction Next.js permet de r√©cup√©rer des donn√©es c√¥t√© serveur avant le rendu de la page ?","options":["componentDidMount()","useEffect()","getServerSideProps()","fetch()"],"correct":2,"explanation":"getServerSideProps() s''ex√©cute c√¥t√© serveur √† chaque requ√™te et permet de passer des donn√©es comme props au composant de page avant le rendu."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 1;

-- Cours : Le Routing (App Router)
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Introduction au syst√®me de routing bas√© sur les fichiers","content":"Le App Router de Next.js 13+ r√©volutionne la fa√ßon dont tu organises tes pages. Contrairement √† l''ancien syst√®me Pages Router, l''App Router utilise le dossier `app/` comme racine et chaque dossier repr√©sente une route.\n\nLe principe est simple : la structure de tes dossiers dans `app/` correspond exactement √† l''URL de ton site. Par exemple, si tu cr√©es un dossier `about` dans `app/`, il sera accessible via l''URL `/about`.\n\nPour qu''une route soit accessible, tu dois cr√©er un fichier sp√©cial appel√© `page.js` (ou `page.tsx` pour TypeScript) dans le dossier correspondant. Voici un exemple de structure :\n\n```\napp/\n‚îú‚îÄ‚îÄ page.js          // Route: /\n‚îú‚îÄ‚îÄ about/\n‚îÇ   ‚îî‚îÄ‚îÄ page.js      // Route: /about\n‚îî‚îÄ‚îÄ contact/\n    ‚îî‚îÄ‚îÄ page.js      // Route: /contact\n```\n\nChaque fichier `page.js` doit exporter par d√©faut un composant React :\n\n```javascript\n// app/about/page.js\nexport default function About() {\n  return (\n    <div>\n      <h1>√Ä propos de nous</h1>\n      <p>Bienvenue sur notre page √† propos !</p>\n    </div>\n  )\n}\n```\n\nCette approche rend ton code plus organis√© et pr√©visible. Tu sais imm√©diatement quelle structure de dossiers correspond √† quelle URL, ce qui facilite grandement la maintenance et la collaboration en √©quipe."},{"title":"Les routes dynamiques avec des param√®tres","content":"Les routes dynamiques te permettent de cr√©er des pages qui s''adaptent selon les param√®tres de l''URL. C''est essentiel pour des pages comme les profils utilisateurs, les articles de blog, ou les fiches produits.\n\nPour cr√©er une route dynamique, tu utilises des crochets `[]` autour du nom du dossier. Par exemple, `[id]` cr√©era une route qui accepte n''importe quelle valeur √† cette position.\n\n```\napp/\n‚îú‚îÄ‚îÄ blog/\n‚îÇ   ‚îú‚îÄ‚îÄ page.js           // Route: /blog\n‚îÇ   ‚îî‚îÄ‚îÄ [slug]/\n‚îÇ       ‚îî‚îÄ‚îÄ page.js       // Route: /blog/mon-article\n‚îî‚îÄ‚îÄ user/\n    ‚îî‚îÄ‚îÄ [id]/\n        ‚îî‚îÄ‚îÄ page.js       // Route: /user/123\n```\n\nDans ton composant, tu peux r√©cup√©rer ces param√®tres via les props :\n\n```javascript\n// app/blog/[slug]/page.js\nexport default function BlogPost({ params }) {\n  return (\n    <div>\n      <h1>Article : {params.slug}</h1>\n      <p>Tu lis l''article avec le slug : {params.slug}</p>\n    </div>\n  )\n}\n```\n\nPour des routes encore plus flexibles, tu peux utiliser `[...slug]` (catch-all routes) qui capture tous les segments restants :\n\n```javascript\n// app/docs/[...slug]/page.js\nexport default function Docs({ params }) {\n  // Pour /docs/guide/installation/npm\n  // params.slug sera [''guide'', ''installation'', ''npm'']\n  return <div>Docs: {params.slug.join(''/'')}</div>\n}\n```"},{"title":"Navigation entre les pages avec le composant Link","content":"Pour naviguer entre tes pages, Next.js fournit le composant `Link` qui optimise automatiquement la navigation c√¥t√© client. C''est bien plus rapide qu''un simple lien HTML car il √©vite de recharger toute la page.\n\nVoici comment l''utiliser :\n\n```javascript\n// app/page.js\nimport Link from ''next/link''\n\nexport default function Home() {\n  return (\n    <div>\n      <h1>Accueil</h1>\n      <nav>\n        <Link href=\"/about\">√Ä propos</Link>\n        <Link href=\"/blog\">Blog</Link>\n        <Link href=\"/contact\">Contact</Link>\n      </nav>\n    </div>\n  )\n}\n```\n\nPour les routes dynamiques, tu peux construire l''URL directement :\n\n```javascript\n// Navigation vers une page dynamique\n<Link href={`/blog/${article.slug}`}>\n  Lire l''article\n</Link>\n\n// Ou avec un objet pour plus de clart√©\n<Link href={{\n  pathname: ''/user/[id]'',\n  params: { id: userId }\n}}>\n  Voir le profil\n</Link>\n```\n\nTu peux aussi naviguer de fa√ßon programmatique avec le hook `useRouter` :\n\n```javascript\n''use client''\nimport { useRouter } from ''next/navigation''\n\nexport default function LoginForm() {\n  const router = useRouter()\n  \n  const handleSubmit = () => {\n    // Apr√®s connexion r√©ussie\n    router.push(''/dashboard'')\n  }\n  \n  return <button onClick={handleSubmit}>Se connecter</button>\n}\n```\n\nLe composant `Link` pr√©charge automatiquement les pages visibles pour une navigation ultra-rapide !"},{"title":"Layouts et templates pour structurer tes pages","content":"Les layouts te permettent de partager des √©l√©ments communs (header, sidebar, footer) entre plusieurs pages sans les r√©p√©ter. C''est un des grands avantages de l''App Router.\n\nPour cr√©er un layout, tu cr√©es un fichier `layout.js` dans un dossier. Ce layout s''appliquera √† toutes les pages de ce dossier et de ses sous-dossiers :\n\n```javascript\n// app/layout.js (Layout racine - obligatoire)\nexport default function RootLayout({ children }) {\n  return (\n    <html lang=\"fr\">\n      <body>\n        <header>\n          <nav>Mon site</nav>\n        </header>\n        <main>{children}</main>\n        <footer>¬© 2024 Mon site</footer>\n      </body>\n    </html>\n  )\n}\n```\n\nTu peux cr√©er des layouts imbriqu√©s pour des sections sp√©cifiques :\n\n```javascript\n// app/blog/layout.js\nexport default function BlogLayout({ children }) {\n  return (\n    <div className=\"blog-container\">\n      <aside>\n        <h3>Articles r√©cents</h3>\n        {/* Sidebar du blog */}\n      </aside>\n      <div className=\"blog-content\">\n        {children}\n      </div>\n    </div>\n  )\n}\n```\n\nStructure avec layouts imbriqu√©s :\n\n```\napp/\n‚îú‚îÄ‚îÄ layout.js          // Layout global\n‚îú‚îÄ‚îÄ page.js            // Utilise layout.js\n‚îî‚îÄ‚îÄ blog/\n    ‚îú‚îÄ‚îÄ layout.js      // Layout du blog (+ layout global)\n    ‚îú‚îÄ‚îÄ page.js        // Utilise les deux layouts\n    ‚îî‚îÄ‚îÄ [slug]/\n        ‚îî‚îÄ‚îÄ page.js    // Utilise les deux layouts aussi\n```\n\nLes templates sont similaires mais cr√©ent une nouvelle instance √† chaque navigation, utiles pour des animations ou des √©tats √† r√©initialiser."},{"title":"Organisation avanc√©e et bonnes pratiques","content":"L''App Router offre plusieurs fichiers sp√©ciaux pour organiser ton application de fa√ßon professionnelle. Voici les plus importants :\n\nLe fichier `loading.js` affiche un √©tat de chargement automatiquement :\n\n```javascript\n// app/blog/loading.js\nexport default function Loading() {\n  return (\n    <div className=\"loading\">\n      <p>Chargement des articles...</p>\n    </div>\n  )\n}\n```\n\nLe fichier `error.js` g√®re les erreurs :\n\n```javascript\n// app/blog/error.js\n''use client''\n\nexport default function Error({ error, reset }) {\n  return (\n    <div>\n      <h2>Une erreur est survenue</h2>\n      <p>{error.message}</p>\n      <button onClick={reset}>R√©essayer</button>\n    </div>\n  )\n}\n```\n\nLe fichier `not-found.js` pour les pages 404 personnalis√©es :\n\n```javascript\n// app/not-found.js\nexport default function NotFound() {\n  return (\n    <div>\n      <h1>404 - Page introuvable</h1>\n      <Link href=\"/\">Retour √† l''accueil</Link>\n    </div>\n  )\n}\n```\n\nPour organiser ton code sans affecter le routing, utilise des dossiers avec parenth√®ses :\n\n```\napp/\n‚îú‚îÄ‚îÄ (marketing)/        // Dossier d''organisation\n‚îÇ   ‚îú‚îÄ‚îÄ about/\n‚îÇ   ‚îî‚îÄ‚îÄ contact/\n‚îî‚îÄ‚îÄ (app)/              // Autre section\n    ‚îú‚îÄ‚îÄ dashboard/\n    ‚îî‚îÄ‚îÄ profile/\n```\n\nCette structure reste accessible via `/about`, `/dashboard`, etc. Les parenth√®ses indiquent √† Next.js d''ignorer ce niveau dans l''URL finale."}],"keyPoints":["L''App Router utilise la structure des dossiers dans `app/` pour d√©finir automatiquement les routes de ton application","Chaque route n√©cessite un fichier `page.js` qui exporte un composant React par d√©faut","Les routes dynamiques utilisent la syntaxe `[parametre]` pour capturer des valeurs variables dans l''URL","Le composant `Link` de Next.js optimise la navigation en √©vitant les rechargements de page complets","Les layouts permettent de partager des √©l√©ments communs entre plusieurs pages et peuvent √™tre imbriqu√©s pour plus de flexibilit√©"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 2;

-- QCM : Le Routing (App Router)
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Comment cr√©e-t-on une nouvelle page dans Next.js 13+ avec l''App Router ?","options":["En cr√©ant un fichier page.js dans un dossier","En cr√©ant un fichier index.js dans un dossier","En cr√©ant un fichier route.js dans un dossier","En cr√©ant un fichier component.js dans un dossier"],"correct":0,"explanation":"Avec l''App Router, chaque page doit √™tre d√©finie dans un fichier nomm√© page.js (ou page.tsx) √† l''int√©rieur d''un dossier qui repr√©sente la route."},{"question":"Quelle structure de dossier permet de cr√©er la route ''/about'' ?","options":["src/pages/about.js","app/about/page.js","pages/about/index.js","app/about.js"],"correct":1,"explanation":"Dans l''App Router, la route ''/about'' est cr√©√©e en pla√ßant un fichier page.js dans le dossier app/about/."},{"question":"Comment d√©finit-on une route dynamique comme ''/product/123'' ?","options":["app/product/[id]/page.js","app/product/:id/page.js","app/product/{id}/page.js","app/product/id/page.js"],"correct":0,"explanation":"Les routes dynamiques utilisent des crochets [] autour du nom du param√®tre, donc [id] pour capturer la valeur dynamique."},{"question":"Quel fichier permet de cr√©er un layout partag√© pour plusieurs pages ?","options":["template.js","page.js","layout.js","wrapper.js"],"correct":2,"explanation":"Le fichier layout.js d√©finit une mise en page commune qui entoure les pages enfants dans l''arborescence de dossiers."},{"question":"Comment cr√©er une route qui capture plusieurs segments comme ''/blog/2023/12/article'' ?","options":["app/blog/[year]/[month]/[slug]/page.js","app/blog/[...params]/page.js","app/blog/*/page.js","app/blog/[year-month-slug]/page.js"],"correct":1,"explanation":"La syntaxe [...params] cr√©e une route ''catch-all'' qui capture tous les segments restants de l''URL dans un tableau de param√®tres."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 2;

-- Cours : Les Composants Server & Client
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Introduction aux Server Components et Client Components","content":"Avec Next.js 13 et l''App Router, une nouvelle architecture a √©t√© introduite qui distingue clairement deux types de composants : les Server Components et les Client Components. Cette distinction est fondamentale pour comprendre comment Next.js optimise les performances de ton application.\n\nLes Server Components s''ex√©cutent uniquement c√¥t√© serveur, ce qui signifie qu''ils sont rendus avant d''√™tre envoy√©s au navigateur. Ils n''ont pas acc√®s aux APIs du navigateur comme les √©v√©nements ou le localStorage, mais ils peuvent directement acc√©der aux bases de donn√©es et aux APIs serveur.\n\nLes Client Components, quant √† eux, s''ex√©cutent dans le navigateur de l''utilisateur. Ils peuvent g√©rer l''interactivit√©, utiliser les hooks React comme useState ou useEffect, et acc√©der aux APIs du navigateur.\n\nPar d√©faut, tous les composants dans l''App Router sont des Server Components. Cela permet d''optimiser les performances en r√©duisant la quantit√© de JavaScript envoy√© au client. Tu dois explicitement marquer un composant comme Client Component en ajoutant la directive ''use client'' en haut du fichier.\n\nCette architecture hybride te permet de combiner le meilleur des deux mondes : la performance et la s√©curit√© des Server Components avec l''interactivit√© des Client Components."},{"title":"Les Server Components en d√©tail","content":"Les Server Components sont la pierre angulaire de la nouvelle architecture Next.js. Ils s''ex√©cutent sur le serveur et ne sont jamais envoy√©s au navigateur sous forme de JavaScript, ce qui r√©duit consid√©rablement la taille du bundle.\n\nVoici un exemple typique de Server Component :\n\n```typescript\n// app/posts/page.tsx\nimport { getPosts } from ''@/lib/api''\n\nexport default async function PostsPage() {\n  // Cette fonction s''ex√©cute c√¥t√© serveur\n  const posts = await getPosts()\n  \n  return (\n    <div>\n      <h1>Mes articles</h1>\n      {posts.map(post => (\n        <article key={post.id}>\n          <h2>{post.title}</h2>\n          <p>{post.content}</p>\n        </article>\n      ))}\n    </div>\n  )\n}\n```\n\nLes avantages des Server Components incluent :\n- Acc√®s direct aux ressources serveur (base de donn√©es, syst√®me de fichiers)\n- R√©duction de la taille du bundle JavaScript\n- Meilleure s√©curit√© (les cl√©s API restent c√¥t√© serveur)\n- Am√©lioration du SEO gr√¢ce au rendu c√¥t√© serveur\n\nCependant, ils ont des limitations : pas d''interactivit√©, pas d''acc√®s aux APIs du navigateur, et impossibilit√© d''utiliser les hooks React comme useState ou useEffect."},{"title":"Les Client Components et la directive ''use client''","content":"Les Client Components sont n√©cessaires d√®s que tu as besoin d''interactivit√© dans ton application. Pour cr√©er un Client Component, tu dois ajouter la directive ''use client'' en haut de ton fichier.\n\nVoici un exemple de Client Component :\n\n```typescript\n// components/Counter.tsx\n''use client''\n\nimport { useState } from ''react''\n\nexport default function Counter() {\n  const [count, setCount] = useState(0)\n  \n  return (\n    <div>\n      <p>Compteur: {count}</p>\n      <button onClick={() => setCount(count + 1)}>\n        Incr√©menter\n      </button>\n    </div>\n  )\n}\n```\n\nUn autre exemple avec un formulaire interactif :\n\n```typescript\n// components/ContactForm.tsx\n''use client''\n\nimport { useState } from ''react''\n\nexport default function ContactForm() {\n  const [email, setEmail] = useState('''')\n  \n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    console.log(''Email soumis:'', email)\n  }\n  \n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        placeholder=\"Votre email\"\n      />\n      <button type=\"submit\">Envoyer</button>\n    </form>\n  )\n}\n```\n\nLes Client Components sont indispensables pour la gestion des √©v√©nements, l''√©tat local, et l''utilisation des hooks React."},{"title":"Composition et bonnes pratiques","content":"La cl√© d''une application Next.js performante r√©side dans la bonne composition entre Server et Client Components. Tu peux imbriquer des Client Components dans des Server Components, mais l''inverse n''est pas possible directement.\n\nVoici un exemple de composition efficace :\n\n```typescript\n// app/blog/page.tsx (Server Component)\nimport { getPosts } from ''@/lib/api''\nimport SearchBar from ''@/components/SearchBar'' // Client Component\nimport PostCard from ''@/components/PostCard'' // Server Component\n\nexport default async function BlogPage() {\n  const posts = await getPosts()\n  \n  return (\n    <div>\n      <h1>Blog</h1>\n      <SearchBar /> {/* Client Component pour l''interactivit√© */}\n      <div className=\"posts\">\n        {posts.map(post => (\n          <PostCard key={post.id} post={post} /> {/* Server Component */}\n        ))}\n      </div>\n    </div>\n  )\n}\n```\n\nPour passer des Server Components en children √† des Client Components :\n\n```typescript\n// components/Layout.tsx (Client Component)\n''use client''\n\nexport default function Layout({ children }: { children: React.ReactNode }) {\n  return (\n    <div className=\"layout\">\n      <nav>Navigation interactive</nav>\n      {children} {/* Peut contenir des Server Components */}\n    </div>\n  )\n}\n```\n\nBonnes pratiques :\n- Utilise les Server Components par d√©faut\n- N''ajoute ''use client'' que quand n√©cessaire\n- Pousse les Client Components vers les feuilles de l''arbre des composants\n- Partage les donn√©es via props plut√¥t que par des appels API c√¥t√© client"},{"title":"Cas d''usage pratiques et exemples concrets","content":"Pour t''aider √† choisir entre Server et Client Components, voici des cas d''usage concrets avec des exemples pratiques.\n\nUtilise un Server Component pour :\n\n```typescript\n// app/products/page.tsx - Liste de produits depuis la DB\nexport default async function ProductsPage() {\n  const products = await fetch(''https://api.example.com/products'')\n  \n  return (\n    <div>\n      {products.map(product => (\n        <div key={product.id}>\n          <h3>{product.name}</h3>\n          <p>{product.description}</p>\n        </div>\n      ))}\n    </div>\n  )\n}\n```\n\nUtilise un Client Component pour :\n\n```typescript\n// components/ShoppingCart.tsx - Panier interactif\n''use client''\n\nimport { useState } from ''react''\n\nexport default function ShoppingCart() {\n  const [items, setItems] = useState([])\n  \n  const addItem = (product) => {\n    setItems([...items, product])\n  }\n  \n  return (\n    <div>\n      <h3>Panier ({items.length})</h3>\n      <button onClick={() => addItem(product)}>\n        Ajouter au panier\n      </button>\n    </div>\n  )\n}\n```\n\nExemple hybride - une page produit avec interaction :\n\n```typescript\n// app/products/[id]/page.tsx\nimport { getProduct } from ''@/lib/api''\nimport AddToCartButton from ''@/components/AddToCartButton''\n\nexport default async function ProductPage({ params }) {\n  const product = await getProduct(params.id) // Server Component\n  \n  return (\n    <div>\n      <h1>{product.name}</h1>\n      <p>{product.description}</p>\n      <AddToCartButton product={product} /> {/* Client Component */}\n    </div>\n  )\n}\n```\n\nCette approche te permet d''optimiser les performances tout en conservant l''interactivit√© n√©cessaire."}],"keyPoints":["Par d√©faut, tous les composants dans l''App Router sont des Server Components - ils s''ex√©cutent c√¥t√© serveur et r√©duisent la taille du bundle JavaScript","Utilise la directive ''use client'' en haut du fichier pour cr√©er un Client Component quand tu as besoin d''interactivit√© (√©v√©nements, hooks React, APIs du navigateur)","Les Server Components peuvent directement acc√©der aux bases de donn√©es et APIs serveur, mais ne peuvent pas utiliser useState, useEffect ou g√©rer des √©v√©nements","Tu peux imbriquer des Client Components dans des Server Components, mais pas l''inverse - pousse les Client Components vers les feuilles de ton arbre de composants","Combine les deux types intelligemment : utilise les Server Components pour le rendu de donn√©es et les Client Components uniquement pour les parties interactives de ton application"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 3;

-- QCM : Les Composants Server & Client
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Par d√©faut, tous les composants dans Next.js 13+ sont :","options":["Des Client Components","Des Server Components","Des composants hybrides","Des composants statiques"],"correct":1,"explanation":"Dans Next.js 13+, tous les composants sont des Server Components par d√©faut, sauf indication contraire avec ''use client''."},{"question":"Pour cr√©er un Client Component, que doit-on ajouter au d√©but du fichier ?","options":["''use server''","''use client''","''use browser''","''use component''"],"correct":1,"explanation":"La directive ''use client'' au d√©but du fichier indique √† Next.js que ce composant doit s''ex√©cuter c√¥t√© client."},{"question":"O√π s''ex√©cutent les Server Components ?","options":["Dans le navigateur de l''utilisateur","Sur le serveur uniquement","√Ä la fois sur le serveur et le client","Dans un service worker"],"correct":1,"explanation":"Les Server Components s''ex√©cutent uniquement sur le serveur, ce qui permet d''acc√©der directement aux bases de donn√©es et APIs."},{"question":"Lequel de ces hooks React peut √™tre utilis√© dans un Client Component ?","options":["useState","useEffect","useRouter","Tous les pr√©c√©dents"],"correct":3,"explanation":"Les Client Components peuvent utiliser tous les hooks React comme useState, useEffect, useRouter car ils s''ex√©cutent dans le navigateur."},{"question":"Un Server Component peut-il importer directement un Client Component ?","options":["Non, jamais","Oui, sans restriction","Oui, mais le Client Component ne recevra que des props s√©rialisables","Seulement avec une configuration sp√©ciale"],"correct":2,"explanation":"Un Server Component peut importer un Client Component, mais il ne peut lui passer que des props s√©rialisables (pas de fonctions ou d''objets complexes)."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 3;

-- Cours : Le Data Fetching
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Introduction au Data Fetching dans Next.js","content":"Le data fetching dans Next.js est l''un des aspects les plus puissants du framework. Contrairement √† React traditionnel o√π les donn√©es sont g√©n√©ralement r√©cup√©r√©es c√¥t√© client, Next.js offre plusieurs strat√©gies pour r√©cup√©rer des donn√©es √† diff√©rents moments du cycle de vie de ton application.\n\nNext.js propose trois m√©thodes principales de data fetching : getStaticProps pour la g√©n√©ration statique, getServerSideProps pour le rendu c√¥t√© serveur, et getStaticPaths pour les routes dynamiques statiques. Chaque m√©thode a ses propres cas d''usage et avantages en termes de performance et d''exp√©rience utilisateur.\n\n```javascript\n// Exemple basique de data fetching c√¥t√© serveur\nexport async function getServerSideProps() {\n  const res = await fetch(''https://api.example.com/data'')\n  const data = await res.json()\n  \n  return {\n    props: {\n      data\n    }\n  }\n}\n```\n\nLe choix de la m√©thode d√©pend de plusieurs facteurs : la fr√©quence de mise √† jour des donn√©es, les besoins en SEO, les performances souhait√©es, et l''exp√©rience utilisateur. La g√©n√©ration statique est g√©n√©ralement pr√©f√©r√©e pour des raisons de performance, tandis que le rendu c√¥t√© serveur est id√©al pour des donn√©es qui changent fr√©quemment ou des pages personnalis√©es."},{"title":"getStaticProps : G√©n√©ration Statique","content":"getStaticProps est la m√©thode recommand√©e pour r√©cup√©rer des donn√©es au moment de la build. Cette approche g√©n√®re des pages HTML statiques, offrant d''excellentes performances et un SEO optimal.\n\nCette fonction s''ex√©cute uniquement au moment de la build en production, jamais c√¥t√© client. Elle est parfaite pour des donn√©es qui ne changent pas souvent, comme des articles de blog, des pages de produits, ou de la documentation.\n\n```javascript\n// pages/blog/[slug].js\nexport async function getStaticProps({ params }) {\n  const post = await fetch(`https://api.blog.com/posts/${params.slug}`)\n    .then(res => res.json())\n  \n  // Gestion des erreurs\n  if (!post) {\n    return {\n      notFound: true,\n    }\n  }\n  \n  return {\n    props: {\n      post,\n    },\n    // R√©g√©n√©ration incr√©mentale toutes les heures\n    revalidate: 3600,\n  }\n}\n```\n\nLa propri√©t√© revalidate permet d''impl√©menter l''Incremental Static Regeneration (ISR), qui combine les avantages de la g√©n√©ration statique avec la possibilit√© de mettre √† jour les donn√©es p√©riodiquement. Tu peux √©galement utiliser notFound: true pour rediriger vers une page 404 si les donn√©es n''existent pas."},{"title":"getServerSideProps : Rendu C√¥t√© Serveur","content":"getServerSideProps s''ex√©cute √† chaque requ√™te c√¥t√© serveur, permettant de r√©cup√©rer des donn√©es fra√Æches pour chaque utilisateur. Cette m√©thode est id√©ale pour des pages avec des donn√©es personnalis√©es ou qui changent tr√®s fr√©quemment.\n\n```javascript\n// pages/dashboard.js\nexport async function getServerSideProps({ req, res, query }) {\n  // Acc√®s aux headers et cookies\n  const token = req.cookies.authToken\n  \n  if (!token) {\n    return {\n      redirect: {\n        destination: ''/login'',\n        permanent: false,\n      },\n    }\n  }\n  \n  const userData = await fetch(''https://api.example.com/user'', {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(res => res.json())\n  \n  // Configuration du cache c√¥t√© serveur\n  res.setHeader(\n    ''Cache-Control'',\n    ''public, s-maxage=10, stale-while-revalidate=59''\n  )\n  \n  return {\n    props: {\n      user: userData,\n      timestamp: Date.now()\n    }\n  }\n}\n```\n\ngetServerSideProps a acc√®s √† l''objet request complet, te permettant de lire les cookies, headers, et param√®tres de requ√™te. Tu peux √©galement g√©rer l''authentification et les redirections directement. Attention cependant : cette m√©thode peut impacter les performances car chaque page doit √™tre g√©n√©r√©e √† la demande."},{"title":"getStaticPaths : G√©n√©ration de Routes Dynamiques","content":"getStaticPaths est utilis√© avec getStaticProps pour pr√©-g√©n√©rer des pages avec des routes dynamiques. Cette fonction indique √† Next.js quelles pages dynamiques doivent √™tre g√©n√©r√©es au moment de la build.\n\n```javascript\n// pages/products/[id].js\nexport async function getStaticPaths() {\n  // R√©cup√©ration de la liste des IDs de produits\n  const products = await fetch(''https://api.shop.com/products'')\n    .then(res => res.json())\n  \n  // G√©n√©ration des chemins\n  const paths = products.map((product) => ({\n    params: { id: product.id.toString() }\n  }))\n  \n  return {\n    paths,\n    // fallback: false = 404 pour les chemins non g√©n√©r√©s\n    // fallback: true = g√©n√©ration √† la demande\n    // fallback: ''blocking'' = SSR pour nouveaux chemins\n    fallback: ''blocking''\n  }\n}\n\nexport async function getStaticProps({ params }) {\n  const product = await fetch(`https://api.shop.com/products/${params.id}`)\n    .then(res => res.json())\n  \n  return {\n    props: { product },\n    revalidate: 86400, // 24 heures\n  }\n}\n```\n\nLa propri√©t√© fallback est cruciale : false g√©n√®re uniquement les chemins sp√©cifi√©s, true permet la g√©n√©ration √† la demande avec un √©tat de chargement, et ''blocking'' g√©n√®re la page c√¥t√© serveur pour les nouveaux chemins. Cette flexibilit√© te permet d''optimiser selon tes besoins."},{"title":"Data Fetching C√¥t√© Client et Strat√©gies Hybrides","content":"Bien que Next.js privil√©gie le data fetching c√¥t√© serveur, il existe des cas o√π r√©cup√©rer des donn√©es c√¥t√© client est n√©cessaire : donn√©es utilisateur en temps r√©el, interactions apr√®s le chargement initial, ou mise √† jour de contenu dynamique.\n\n```javascript\n// Utilisation de SWR pour le data fetching c√¥t√© client\nimport useSWR from ''swr''\n\nconst fetcher = (url) => fetch(url).then(res => res.json())\n\nfunction Profile({ initialData }) {\n  const { data, error, mutate } = useSWR(''/api/user/profile'', fetcher, {\n    fallbackData: initialData,\n    refreshInterval: 30000, // Refresh toutes les 30 secondes\n  })\n  \n  if (error) return <div>Erreur de chargement</div>\n  if (!data) return <div>Chargement...</div>\n  \n  return (\n    <div>\n      <h1>Profil de {data.name}</h1>\n      <button onClick={() => mutate()}>\n        Actualiser\n      </button>\n    </div>\n  )\n}\n\n// Combinaison avec getStaticProps pour un chargement initial rapide\nexport async function getStaticProps() {\n  const initialData = await fetch(''https://api.example.com/user/profile'')\n    .then(res => res.json())\n  \n  return {\n    props: { initialData },\n    revalidate: 300 // 5 minutes\n  }\n}\n```\n\nCette approche hybride combine le meilleur des deux mondes : un chargement initial rapide gr√¢ce √† la pr√©-g√©n√©ration et des mises √† jour en temps r√©el c√¥t√© client. SWR et React Query sont des biblioth√®ques excellentes pour g√©rer le cache, la synchronisation et les √©tats de chargement c√¥t√© client."}],"keyPoints":["getStaticProps g√©n√®re des pages statiques au moment de la build, id√©al pour des donn√©es peu changeantes et offrant les meilleures performances","getServerSideProps s''ex√©cute √† chaque requ√™te c√¥t√© serveur, parfait pour des donn√©es personnalis√©es ou changeant fr√©quemment","getStaticPaths d√©finit quelles routes dynamiques pr√©-g√©n√©rer, avec des options de fallback pour g√©rer les nouveaux chemins","L''Incremental Static Regeneration (ISR) avec la propri√©t√© revalidate permet de mettre √† jour les pages statiques p√©riodiquement","Une approche hybride combinant data fetching serveur et client optimise l''exp√©rience utilisateur avec des donn√©es initiales rapides et des mises √† jour en temps r√©el"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 4;

-- QCM : Le Data Fetching
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Quelle m√©thode permet de r√©cup√©rer des donn√©es c√¥t√© serveur √† chaque requ√™te dans Next.js ?","options":["getStaticProps","getServerSideProps","useEffect","fetch"],"correct":1,"explanation":"getServerSideProps s''ex√©cute c√¥t√© serveur √† chaque requ√™te et permet de passer des donn√©es aux composants avant le rendu."},{"question":"Dans quel cas devriez-vous utiliser getStaticProps plut√¥t que getServerSideProps ?","options":["Pour des donn√©es qui changent fr√©quemment","Pour des donn√©es personnalis√©es par utilisateur","Pour des donn√©es statiques qui changent rarement","Pour des donn√©es n√©cessitant une authentification"],"correct":2,"explanation":"getStaticProps est id√©al pour les donn√©es statiques car il g√©n√®re les pages au build time, offrant de meilleures performances."},{"question":"Comment impl√©menter l''Incremental Static Regeneration (ISR) dans Next.js ?","options":["En ajoutant la propri√©t√© ''revalidate'' dans getServerSideProps","En ajoutant la propri√©t√© ''revalidate'' dans getStaticProps","En utilisant useSWR avec un interval","En configurant next.config.js"],"correct":1,"explanation":"L''ISR se configure en ajoutant ''revalidate: nombre_de_secondes'' dans le retour de getStaticProps pour r√©g√©n√©rer la page p√©riodiquement."},{"question":"Quelle est la meilleure pratique pour g√©rer le data fetching c√¥t√© client dans Next.js ?","options":["Utiliser uniquement fetch dans useEffect","Utiliser une librairie comme SWR ou React Query","Utiliser getServerSideProps pour tout","Utiliser localStorage pour le cache"],"correct":1,"explanation":"SWR ou React Query offrent des fonctionnalit√©s avanc√©es comme le cache, la revalidation automatique et la gestion des √©tats de chargement."},{"question":"Comment optimiser les performances lors du fetching de donn√©es dans une application Next.js avec de nombreuses pages dynamiques ?","options":["Utiliser uniquement getServerSideProps partout","Combiner getStaticPaths avec fallback: ''blocking'' et ISR","Faire tout le fetching c√¥t√© client","Utiliser getInitialProps pour la compatibilit√©"],"correct":1,"explanation":"Cette approche combine la g√©n√©ration statique pour les pages populaires, la g√©n√©ration √† la demande pour les nouvelles pages, et la mise √† jour p√©riodique via ISR."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 4;

-- Cours : Les Server Actions
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Introduction aux Server Actions","content":"Les Server Actions sont une fonctionnalit√© r√©volutionnaire de Next.js 13+ qui te permet de g√©rer les mutations de donn√©es directement c√¥t√© serveur sans avoir besoin de cr√©er des routes API s√©par√©es. Cette approche simplifie consid√©rablement l''architecture de ton application en √©liminant la couche interm√©diaire traditionnelle.\n\nContrairement aux API routes classiques, les Server Actions s''ex√©cutent enti√®rement c√¥t√© serveur et peuvent √™tre appel√©es directement depuis tes composants React. Elles utilisent la directive ''use server'' pour indiquer √† Next.js que le code doit s''ex√©cuter uniquement sur le serveur.\n\n```javascript\n''use server''\n\nexport async function createUser(formData) {\n  const name = formData.get(''name'')\n  const email = formData.get(''email'')\n  \n  // Logique de cr√©ation d''utilisateur\n  await db.user.create({\n    data: { name, email }\n  })\n}\n```\n\nLes Server Actions offrent plusieurs avantages : elles r√©duisent la quantit√© de JavaScript c√¥t√© client, am√©liorent la s√©curit√© en gardant la logique sensible sur le serveur, et fonctionnent m√™me quand JavaScript est d√©sactiv√© dans le navigateur. Elles sont particuli√®rement adapt√©es aux op√©rations de cr√©ation, mise √† jour et suppression de donn√©es."},{"title":"Cr√©ation et utilisation basique des Server Actions","content":"Pour cr√©er une Server Action, tu peux soit l''int√©grer directement dans ton composant serveur, soit la d√©finir dans un fichier s√©par√©. La directive ''use server'' est obligatoire pour marquer une fonction comme Server Action.\n\nVoici comment cr√©er une Server Action dans un fichier s√©par√© :\n\n```javascript\n// actions/user.js\n''use server''\n\nimport { redirect } from ''next/navigation''\nimport { revalidatePath } from ''next/cache''\n\nexport async function addUser(formData) {\n  const userData = {\n    name: formData.get(''name''),\n    email: formData.get(''email''),\n    age: parseInt(formData.get(''age''))\n  }\n  \n  // Validation\n  if (!userData.name || !userData.email) {\n    throw new Error(''Nom et email requis'')\n  }\n  \n  // Insertion en base\n  await db.user.create({ data: userData })\n  \n  // Revalidation du cache et redirection\n  revalidatePath(''/users'')\n  redirect(''/users'')\n}\n```\n\nDans ton composant, tu peux utiliser cette action directement avec un formulaire HTML :\n\n```javascript\n// components/UserForm.jsx\nimport { addUser } from ''@/actions/user''\n\nexport default function UserForm() {\n  return (\n    <form action={addUser}>\n      <input name=\"name\" placeholder=\"Nom\" required />\n      <input name=\"email\" type=\"email\" placeholder=\"Email\" required />\n      <input name=\"age\" type=\"number\" placeholder=\"√Çge\" />\n      <button type=\"submit\">Ajouter utilisateur</button>\n    </form>\n  )\n}\n```"},{"title":"Gestion des erreurs et validation","content":"La gestion des erreurs dans les Server Actions n√©cessite une approche structur√©e pour offrir une exp√©rience utilisateur optimale. Tu peux utiliser try/catch ou retourner des objets avec des informations sur le succ√®s/√©chec de l''op√©ration.\n\nVoici une approche robuste pour g√©rer les erreurs :\n\n```javascript\n''use server''\n\nimport { z } from ''zod''\n\nconst userSchema = z.object({\n  name: z.string().min(2, ''Le nom doit contenir au moins 2 caract√®res''),\n  email: z.string().email(''Email invalide''),\n  age: z.number().min(18, ''√Çge minimum 18 ans'')\n})\n\nexport async function createUser(prevState, formData) {\n  try {\n    const rawData = {\n      name: formData.get(''name''),\n      email: formData.get(''email''),\n      age: parseInt(formData.get(''age''))\n    }\n    \n    // Validation avec Zod\n    const validatedData = userSchema.parse(rawData)\n    \n    // V√©rifier si l''email existe d√©j√†\n    const existingUser = await db.user.findUnique({\n      where: { email: validatedData.email }\n    })\n    \n    if (existingUser) {\n      return {\n        success: false,\n        message: ''Cet email est d√©j√† utilis√©''\n      }\n    }\n    \n    await db.user.create({ data: validatedData })\n    \n    return {\n      success: true,\n      message: ''Utilisateur cr√©√© avec succ√®s''\n    }\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return {\n        success: false,\n        errors: error.flatten().fieldErrors\n      }\n    }\n    \n    return {\n      success: false,\n      message: ''Une erreur inattendue s\\''est produite''\n    }\n  }\n}\n```"},{"title":"Int√©gration avec useFormState et gestion d''√©tat","content":"Pour une exp√©rience utilisateur plus riche, tu peux combiner les Server Actions avec le hook `useFormState` qui permet de g√©rer l''√©tat du formulaire et d''afficher les retours utilisateur.\n\nVoici comment impl√©menter cette approche :\n\n```javascript\n''use client''\n\nimport { useFormState } from ''react-dom''\nimport { createUser } from ''@/actions/user''\n\nconst initialState = {\n  success: null,\n  message: '''',\n  errors: {}\n}\n\nexport default function UserForm() {\n  const [state, formAction] = useFormState(createUser, initialState)\n  \n  return (\n    <form action={formAction}>\n      <div>\n        <input \n          name=\"name\" \n          placeholder=\"Nom\" \n          className={state.errors?.name ? ''border-red-500'' : ''''}\n        />\n        {state.errors?.name && (\n          <p className=\"text-red-500\">{state.errors.name[0]}</p>\n        )}\n      </div>\n      \n      <div>\n        <input \n          name=\"email\" \n          type=\"email\" \n          placeholder=\"Email\"\n          className={state.errors?.email ? ''border-red-500'' : ''''}\n        />\n        {state.errors?.email && (\n          <p className=\"text-red-500\">{state.errors.email[0]}</p>\n        )}\n      </div>\n      \n      <button type=\"submit\">Cr√©er utilisateur</button>\n      \n      {state.message && (\n        <p className={state.success ? ''text-green-500'' : ''text-red-500''}>\n          {state.message}\n        </p>\n      )}\n    </form>\n  )\n}\n```\n\nTu peux √©galement utiliser `useFormStatus` pour afficher l''√©tat de chargement :\n\n```javascript\n''use client''\n\nimport { useFormStatus } from ''react-dom''\n\nfunction SubmitButton() {\n  const { pending } = useFormStatus()\n  \n  return (\n    <button type=\"submit\" disabled={pending}>\n      {pending ? ''Cr√©ation...'' : ''Cr√©er utilisateur''}\n    </button>\n  )\n}\n```"},{"title":"Optimisation et bonnes pratiques","content":"Pour tirer le meilleur parti des Server Actions, il est essentiel de suivre certaines bonnes pratiques qui am√©lioreront les performances et la s√©curit√© de ton application.\n\nPremi√®rement, utilise `revalidatePath` et `revalidateTag` pour mettre √† jour intelligemment le cache :\n\n```javascript\n''use server''\n\nimport { revalidatePath, revalidateTag } from ''next/cache''\n\nexport async function updateProduct(productId, formData) {\n  const updatedProduct = await db.product.update({\n    where: { id: productId },\n    data: {\n      name: formData.get(''name''),\n      price: parseFloat(formData.get(''price''))\n    }\n  })\n  \n  // Revalide la page sp√©cifique du produit\n  revalidatePath(`/products/${productId}`)\n  \n  // Revalide tous les √©l√©ments avec ce tag\n  revalidateTag(''products-list'')\n  \n  return updatedProduct\n}\n```\n\nDeuxi√®mement, impl√©mente une authentification et des v√©rifications de s√©curit√© :\n\n```javascript\n''use server''\n\nimport { auth } from ''@/lib/auth''\nimport { redirect } from ''next/navigation''\n\nexport async function deletePost(postId) {\n  const session = await auth()\n  \n  if (!session?.user) {\n    redirect(''/login'')\n  }\n  \n  // V√©rifier que l''utilisateur est propri√©taire du post\n  const post = await db.post.findUnique({\n    where: { id: postId }\n  })\n  \n  if (post.authorId !== session.user.id) {\n    throw new Error(''Non autoris√©'')\n  }\n  \n  await db.post.delete({ where: { id: postId } })\n  revalidatePath(''/dashboard/posts'')\n}\n```\n\nEnfin, limite la taille des donn√©es et impl√©mente de la pagination pour les op√©rations lourdes. √âvite √©galement d''exposer des informations sensibles dans les retours de tes Server Actions."}],"keyPoints":["Les Server Actions permettent de g√©rer les mutations de donn√©es sans cr√©er d''API routes s√©par√©es","La directive ''use server'' est obligatoire pour marquer une fonction comme Server Action","Combine useFormState et useFormStatus pour une meilleure exp√©rience utilisateur","Utilise revalidatePath() et revalidateTag() pour optimiser la gestion du cache","Impl√©mente toujours une validation robuste et des v√©rifications de s√©curit√© dans tes Server Actions"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 5;

-- QCM : Les Server Actions
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Comment d√©clare-t-on une fonction comme Server Action dans Next.js ?","options":["En ajoutant ''use client'' en haut du fichier","En ajoutant ''use server'' en haut de la fonction","En utilisant le hook useServerAction","En exportant la fonction avec export server"],"correct":1,"explanation":"La directive ''use server'' en d√©but de fonction indique √† Next.js qu''il s''agit d''une Server Action qui s''ex√©cutera c√¥t√© serveur."},{"question":"O√π peuvent √™tre d√©finies les Server Actions ?","options":["Uniquement dans des fichiers s√©par√©s","Uniquement dans les composants Server","Dans les Server Components ou dans des fichiers s√©par√©s","Uniquement dans le dossier /api"],"correct":2,"explanation":"Les Server Actions peuvent √™tre d√©finies directement dans les Server Components ou dans des fichiers s√©par√©s pour √™tre r√©utilis√©es."},{"question":"Comment utiliser une Server Action dans un formulaire ?","options":["Avec l''attribut onSubmit","Avec l''attribut action","Avec le hook useAction","Avec l''attribut method"],"correct":1,"explanation":"L''attribut ''action'' du formulaire peut directement recevoir une Server Action, permettant la soumission sans JavaScript c√¥t√© client."},{"question":"Quelle est la diff√©rence principale entre une Server Action et une route API ?","options":["Les Server Actions sont plus rapides","Les Server Actions s''int√®grent directement aux formulaires sans fetch","Les routes API sont deprecated","Il n''y a aucune diff√©rence"],"correct":1,"explanation":"Les Server Actions s''int√®grent naturellement aux formulaires HTML et peuvent √™tre appel√©es directement sans n√©cessiter de fetch ou de requ√™te HTTP explicite."},{"question":"Comment g√©rer les erreurs et la validation dans une Server Action complexe ?","options":["Utiliser try/catch et retourner un objet avec success/error","Les erreurs sont automatiquement g√©r√©es par Next.js","Utiliser uniquement throw new Error()","Rediriger vers une page d''erreur"],"correct":0,"explanation":"La meilleure pratique est d''encapsuler la logique dans try/catch et de retourner un objet structur√© contenant le statut et les donn√©es/erreurs pour une gestion fine c√¥t√© client."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 5;

-- Cours : Le Rendering (SSR, SSG, ISR)
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Introduction aux strat√©gies de rendu dans Next.js","content":"Next.js r√©volutionne le d√©veloppement React en offrant plusieurs strat√©gies de rendu qui s''adaptent √† tes besoins sp√©cifiques. Contrairement √† une application React classique qui ne fait que du rendu c√¥t√© client (CSR), Next.js te permet de choisir la strat√©gie optimale pour chaque page.\n\nLes trois principales strat√©gies sont :\n- **Static Site Generation (SSG)** : Les pages sont g√©n√©r√©es au moment du build et servies comme fichiers statiques\n- **Server-Side Rendering (SSR)** : Les pages sont g√©n√©r√©es √† chaque requ√™te sur le serveur\n- **Incremental Static Regeneration (ISR)** : Combine les avantages du SSG avec la possibilit√© de mettre √† jour le contenu\n\nChaque strat√©gie r√©pond √† des cas d''usage diff√©rents. Le SSG est parfait pour du contenu statique comme un blog ou une page de pr√©sentation. Le SSR convient aux pages n√©cessitant des donn√©es en temps r√©el ou personnalis√©es. L''ISR est id√©al quand tu veux la performance du statique avec la fra√Æcheur des donn√©es dynamiques.\n\nLe choix de la strat√©gie impacte directement les performances, l''exp√©rience utilisateur et les co√ªts d''infrastructure. Une page statique se charge instantan√©ment depuis un CDN, tandis qu''une page SSR n√©cessite un serveur actif pour chaque requ√™te."},{"title":"Static Site Generation (SSG) - La puissance du statique","content":"Le SSG g√©n√®re tes pages HTML au moment du build, cr√©ant des fichiers statiques ultra-rapides √† servir. Cette approche est id√©ale pour du contenu qui ne change pas fr√©quemment.\n\nPour impl√©menter le SSG, tu utilises la fonction `getStaticProps` :\n\n```javascript\n// pages/blog/[slug].js\nexport async function getStaticProps({ params }) {\n  const post = await fetchPost(params.slug);\n  \n  return {\n    props: {\n      post,\n    },\n    // Optionnel: revalide la page toutes les heures\n    revalidate: 3600,\n  };\n}\n\nexport async function getStaticPaths() {\n  const posts = await fetchAllPosts();\n  const paths = posts.map((post) => ({\n    params: { slug: post.slug },\n  }));\n\n  return {\n    paths,\n    fallback: false, // ou ''blocking'' ou true\n  };\n}\n```\n\nPour les routes dynamiques, `getStaticPaths` d√©finit quels param√®tres doivent √™tre pr√©-g√©n√©r√©s. Le param√®tre `fallback` contr√¥le le comportement pour les routes non pr√©-g√©n√©r√©es :\n- `false` : routes non d√©finies retournent 404\n- `''blocking''` : g√©n√®re la page √† la premi√®re requ√™te\n- `true` : affiche une version de fallback puis hydrate avec les donn√©es\n\nLes avantages du SSG incluent des performances exceptionnelles, une excellente SEO, et des co√ªts d''h√©bergement r√©duits puisque tu peux utiliser des CDN."},{"title":"Server-Side Rendering (SSR) - Fra√Æcheur garantie","content":"Le SSR g√©n√®re tes pages √† chaque requ√™te c√¥t√© serveur, garantissant des donn√©es toujours fra√Æches. C''est parfait pour du contenu personnalis√© ou des donn√©es qui changent fr√©quemment.\n\nTu impl√©mentes le SSR avec `getServerSideProps` :\n\n```javascript\n// pages/dashboard.js\nexport async function getServerSideProps(context) {\n  const { req, res, query } = context;\n  \n  // Acc√®s aux cookies, headers, etc.\n  const userToken = req.cookies.token;\n  \n  if (!userToken) {\n    return {\n      redirect: {\n        destination: ''/login'',\n        permanent: false,\n      },\n    };\n  }\n\n  const userData = await fetchUserData(userToken);\n  const notifications = await fetchNotifications(userToken);\n\n  return {\n    props: {\n      user: userData,\n      notifications,\n    },\n  };\n}\n\nfunction Dashboard({ user, notifications }) {\n  return (\n    <div>\n      <h1>Bienvenue {user.name}</h1>\n      <NotificationList notifications={notifications} />\n    </div>\n  );\n}\n```\n\nL''objet `context` te donne acc√®s aux d√©tails de la requ√™te : cookies, headers, query parameters, etc. Tu peux impl√©menter des redirections, g√©rer l''authentification, ou adapter le contenu selon l''utilisateur.\n\nAttention aux performances : chaque requ√™te n√©cessite du temps serveur. Optimise tes appels API et consid√®re la mise en cache. Le SSR est parfait pour les dashboards, pages de profil, ou contenu n√©cessitant une authentification."},{"title":"Incremental Static Regeneration (ISR) - Le meilleur des deux mondes","content":"L''ISR combine la rapidit√© du statique avec la fra√Æcheur des donn√©es dynamiques. Tes pages sont g√©n√©r√©es statiquement mais peuvent √™tre mises √† jour en arri√®re-plan selon un intervalle que tu d√©finis.\n\nL''ISR utilise `getStaticProps` avec le param√®tre `revalidate` :\n\n```javascript\n// pages/products/[id].js\nexport async function getStaticProps({ params }) {\n  const product = await fetchProduct(params.id);\n  \n  return {\n    props: {\n      product,\n    },\n    // Revalide toutes les 60 secondes\n    revalidate: 60,\n  };\n}\n\nexport async function getStaticPaths() {\n  // Pr√©-g√©n√®re seulement les produits populaires\n  const popularProducts = await fetchPopularProducts();\n  const paths = popularProducts.map((product) => ({\n    params: { id: product.id.toString() },\n  }));\n\n  return {\n    paths,\n    // G√©n√®re les autres pages √† la demande\n    fallback: ''blocking'',\n  };\n}\n```\n\nTu peux aussi d√©clencher la r√©g√©n√©ration manuellement via l''API de revalidation :\n\n```javascript\n// pages/api/revalidate.js\nexport default async function handler(req, res) {\n  if (req.query.secret !== process.env.REVALIDATE_TOKEN) {\n    return res.status(401).json({ message: ''Invalid token'' });\n  }\n\n  try {\n    await res.revalidate(''/products/123'');\n    return res.json({ revalidated: true });\n  } catch (err) {\n    return res.status(500).send(''Error revalidating'');\n  }\n}\n```\n\nL''ISR est parfait pour les e-commerce, blogs avec commentaires, ou tout contenu semi-statique n√©cessitant des mises √† jour p√©riodiques."},{"title":"Choisir la bonne strat√©gie et optimisations","content":"Le choix de la strat√©gie de rendu d√©pend de plusieurs facteurs : fr√©quence de mise √† jour des donn√©es, personnalisation n√©cessaire, et contraintes de performance.\n\n**Matrice de d√©cision :**\n- Contenu statique (√Ä propos, Landing pages) ‚Üí **SSG**\n- Contenu semi-dynamique (Blog, Catalogue produits) ‚Üí **ISR**\n- Contenu hautement personnalis√© (Dashboard, Profil) ‚Üí **SSR**\n- Pages n√©cessitant une authentification ‚Üí **SSR**\n\nTu peux m√™me m√©langer les strat√©gies dans une m√™me application :\n\n```javascript\n// next.config.js\nmodule.exports = {\n  experimental: {\n    // Configure l''ISR par d√©faut\n    isrMemoryCacheSize: 0, // D√©sactive le cache m√©moire\n  },\n  // Optimisations d''images automatiques\n  images: {\n    domains: [''example.com''],\n  },\n};\n```\n\nOptimisations importantes :\n- Utilise `next/image` pour optimiser automatiquement les images\n- Impl√©mente la pagination pour les listes longues\n- Cache tes appels API c√¥t√© serveur\n- Utilise `fallback: ''blocking''` prudemment pour √©viter les timeouts\n- Monitore les Core Web Vitals pour mesurer l''impact\n\nConseil pratique : commence par du SSG/ISR par d√©faut, puis migre vers du SSR uniquement pour les pages qui l''exigent vraiment. Cette approche te garantit les meilleures performances possibles."}],"keyPoints":["SSG g√©n√®re les pages au build pour une performance maximale, id√©al pour du contenu statique","SSR g√©n√®re les pages √† chaque requ√™te, parfait pour du contenu personnalis√© ou en temps r√©el","ISR combine statique et dynamique avec des mises √† jour en arri√®re-plan via le param√®tre revalidate","getStaticPaths avec fallback contr√¥le la g√©n√©ration des routes dynamiques non pr√©-g√©n√©r√©es","Tu peux m√©langer les strat√©gies dans une m√™me app selon les besoins de chaque page"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 6;

-- QCM : Le Rendering (SSR, SSG, ISR)
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Quelle m√©thode Next.js utilise-t-elle par d√©faut pour g√©n√©rer les pages statiques au build time ?","options":["getServerSideProps","getStaticProps","getInitialProps","getStaticPaths"],"correct":1,"explanation":"getStaticProps est la m√©thode recommand√©e pour la g√©n√©ration statique (SSG), elle s''ex√©cute au moment du build et pr√©-g√©n√®re le HTML."},{"question":"Dans quel cas privil√©gier le Server-Side Rendering (SSR) plut√¥t que la Static Site Generation (SSG) ?","options":["Pour une page de blog avec du contenu fixe","Pour une page d''accueil marketing","Pour un dashboard utilisateur avec des donn√©es personnalis√©es","Pour une page de documentation"],"correct":2,"explanation":"Le SSR est id√©al pour les contenus personnalis√©s et dynamiques qui changent selon l''utilisateur, car il g√©n√®re le HTML √† chaque requ√™te."},{"question":"Quel param√®tre de getStaticProps permet d''activer l''Incremental Static Regeneration (ISR) ?","options":["cache","revalidate","refresh","update"],"correct":1,"explanation":"Le param√®tre ''revalidate'' d√©finit la dur√©e en secondes apr√®s laquelle Next.js tentera de r√©g√©n√©rer la page en arri√®re-plan."},{"question":"Que se passe-t-il lors du premier acc√®s √† une page ISR apr√®s expiration du d√©lai de revalidation ?","options":["La page est imm√©diatement r√©g√©n√©r√©e et l''utilisateur attend","L''ancienne version est servie puis la nouvelle est g√©n√©r√©e en arri√®re-plan","Une erreur 404 est retourn√©e","La page bascule automatiquement en SSR"],"correct":1,"explanation":"L''ISR utilise la strat√©gie ''stale-while-revalidate'' : l''utilisateur re√ßoit imm√©diatement l''ancienne version pendant que la nouvelle se g√©n√®re silencieusement."},{"question":"Comment combiner efficacement getStaticPaths avec fallback: ''blocking'' pour une strat√©gie ISR optimale ?","options":["Pr√©-g√©n√©rer toutes les pages possibles au build time","Pr√©-g√©n√©rer les pages les plus populaires et g√©n√©rer les autres √† la demande","Utiliser uniquement le SSR pour toutes les pages","D√©sactiver compl√®tement la g√©n√©ration statique"],"correct":1,"explanation":"Cette approche hybride optimise les performances en pr√©-g√©n√©rant les contenus populaires tout en permettant la g√©n√©ration √† la demande des pages moins fr√©quentes, avec un comportement SSR pour les nouvelles pages."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 6;

-- QCM : Middleware & Auth
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Dans Next.js 13+, o√π doit √™tre plac√© le fichier middleware.ts pour √™tre ex√©cut√© sur toutes les routes ?","options":["Dans le dossier /pages","√Ä la racine du projet","Dans le dossier /app","Dans le dossier /lib"],"correct":1,"explanation":"Le fichier middleware.ts doit √™tre plac√© √† la racine du projet pour √™tre automatiquement d√©tect√© et ex√©cut√© par Next.js."},{"question":"Quelle propri√©t√© de l''objet NextRequest permet d''acc√©der aux cookies dans un middleware ?","options":["request.headers.cookie","request.cookies","request.getCookies()","request.cookie"],"correct":1,"explanation":"La propri√©t√© request.cookies fournit une interface pratique pour lire et manipuler les cookies dans le middleware."},{"question":"Comment peut-on restreindre l''ex√©cution d''un middleware √† certaines routes sp√©cifiques ?","options":["En utilisant la fonction matcher dans la config","En v√©rifiant l''URL dans le middleware","En cr√©ant plusieurs fichiers middleware","En utilisant des conditions if/else"],"correct":0,"explanation":"L''export d''une config avec la propri√©t√© matcher permet de d√©finir pr√©cis√©ment sur quelles routes le middleware doit s''ex√©cuter, optimisant ainsi les performances."},{"question":"Dans un syst√®me d''authentification JWT avec middleware, quelle est la meilleure pratique pour g√©rer l''expiration des tokens ?","options":["Rediriger imm√©diatement vers login","Tenter un refresh automatique puis rediriger si √©chec","Afficher une erreur √† l''utilisateur","Ignorer l''expiration"],"correct":1,"explanation":"La meilleure approche consiste √† tenter un refresh automatique du token, et seulement rediriger vers la page de login si le refresh √©choue, offrant une exp√©rience utilisateur fluide."},{"question":"Comment impl√©menter efficacement un syst√®me de permissions granulaires dans un middleware Next.js avec une base de donn√©es ?","options":["Requ√™te DB directe dans chaque ex√©cution du middleware","Cache des permissions en m√©moire avec invalidation intelligente","Stockage des permissions dans les cookies","V√©rification c√¥t√© client uniquement"],"correct":1,"explanation":"Un cache en m√©moire avec invalidation intelligente √©vite les requ√™tes DB r√©p√©t√©es tout en maintenant la coh√©rence des donn√©es, crucial pour les performances du middleware."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 7;

-- Cours : Optimisation & D√©ploiement
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Optimisation des performances avec le bundle analyzer et la r√©duction de taille","content":"Pour optimiser ton application Next.js, commence par analyser la taille de tes bundles. Installe `@next/bundle-analyzer` pour visualiser ce qui occupe le plus d''espace dans ton build. Configure-le dans ton `next.config.js` :\n\n```javascript\nconst withBundleAnalyzer = require(''@next/bundle-analyzer'')({\n  enabled: process.env.ANALYZE === ''true'',\n})\n\nmodule.exports = withBundleAnalyzer({\n  experimental: {\n    optimizeCss: true,\n  },\n  compiler: {\n    removeConsole: process.env.NODE_ENV === ''production'',\n  },\n  webpack: (config, { isServer }) => {\n    if (!isServer) {\n      config.resolve.fallback = {\n        ...config.resolve.fallback,\n        fs: false,\n      }\n    }\n    return config\n  },\n})\n```\n\nUtilise le dynamic import pour le code splitting automatique. Au lieu d''importer directement des composants lourds, utilise `next/dynamic` :\n\n```javascript\nimport dynamic from ''next/dynamic''\n\nconst HeavyChart = dynamic(() => import(''../components/HeavyChart''), {\n  loading: () => <div>Chargement du graphique...</div>,\n  ssr: false\n})\n```\n\nOptimise aussi tes images avec le composant `next/image` et configure les formats modernes dans ton config. Cette approche peut r√©duire la taille de ton bundle initial de 30 √† 50%."},{"title":"Configuration avanc√©e des strat√©gies de cache et headers","content":"Ma√Ætrise les strat√©gies de cache Next.js pour maximiser les performances. Configure tes headers de cache dans `next.config.js` pour optimiser le CDN de Vercel :\n\n```javascript\nmodule.exports = {\n  async headers() {\n    return [\n      {\n        source: ''/(.*)'',\n        headers: [\n          {\n            key: ''X-DNS-Prefetch-Control'',\n            value: ''on''\n          },\n          {\n            key: ''Strict-Transport-Security'',\n            value: ''max-age=63072000; includeSubDomains; preload''\n          }\n        ]\n      },\n      {\n        source: ''/api/(.*)'',\n        headers: [\n          {\n            key: ''Cache-Control'',\n            value: ''s-maxage=86400, stale-while-revalidate''\n          }\n        ]\n      }\n    ]\n  },\n  async rewrites() {\n    return {\n      beforeFiles: [\n        {\n          source: ''/api/proxy/:path*'',\n          destination: ''https://external-api.com/:path*''\n        }\n      ]\n    }\n  }\n}\n```\n\nImpl√©mente aussi l''ISR (Incremental Static Regeneration) strat√©giquement :\n\n```javascript\nexport async function getStaticProps() {\n  const data = await fetchCriticalData()\n  \n  return {\n    props: { data },\n    revalidate: 3600, // Revalidation toutes les heures\n  }\n}\n```\n\nCette configuration permet d''avoir des pages statiques qui se r√©g√©n√®rent intelligemment."},{"title":"Monitoring et debugging des Core Web Vitals","content":"Impl√©mente un monitoring robuste des Core Web Vitals directement dans ton application. Utilise l''API Web Vitals de Next.js pour tracker les m√©triques en temps r√©el :\n\n```javascript\n// pages/_app.js\nexport function reportWebVitals(metric) {\n  const analyticsId = process.env.NEXT_PUBLIC_ANALYTICS_ID\n  \n  if (analyticsId) {\n    // Envoi vers ton service d''analytics\n    gtag(''event'', metric.name, {\n      event_category: ''Web Vitals'',\n      value: Math.round(metric.name === ''CLS'' ? metric.value * 1000 : metric.value),\n      event_label: metric.id,\n      non_interaction: true,\n    })\n  }\n  \n  // Debug local\n  if (process.env.NODE_ENV === ''development'') {\n    console.log(metric)\n  }\n}\n```\n\nConfigure √©galement un service worker personnalis√© pour le pre-caching :\n\n```javascript\n// public/sw.js\nself.addEventListener(''fetch'', event => {\n  if (event.request.destination === ''image'') {\n    event.respondWith(\n      caches.open(''images'').then(cache => {\n        return cache.match(event.request).then(response => {\n          return response || fetch(event.request).then(fetchResponse => {\n            cache.put(event.request, fetchResponse.clone())\n            return fetchResponse\n          })\n        })\n      })\n    )\n  }\n})\n```\n\nUtilise Vercel Analytics et Speed Insights pour un monitoring continu en production."},{"title":"Configuration avanc√©e de d√©ploiement sur Vercel","content":"Ma√Ætrise les configurations avanc√©es de d√©ploiement Vercel avec un fichier `vercel.json` optimis√© :\n\n```json\n{\n  \"framework\": \"nextjs\",\n  \"regions\": [\"cdg1\", \"iad1\"],\n  \"builds\": [\n    {\n      \"src\": \"next.config.js\",\n      \"use\": \"@vercel/next\",\n      \"config\": {\n        \"maxLambdaSize\": \"50mb\"\n      }\n    }\n  ],\n  \"functions\": {\n    \"pages/api/heavy-computation.js\": {\n      \"maxDuration\": 30\n    }\n  },\n  \"headers\": [\n    {\n      \"source\": \"/(.*)\",\n      \"headers\": [\n        {\n          \"key\": \"X-Frame-Options\",\n          \"value\": \"DENY\"\n        }\n      ]\n    }\n  ],\n  \"redirects\": [\n    {\n      \"source\": \"/old-page\",\n      \"destination\": \"/new-page\",\n      \"permanent\": true\n    }\n  ]\n}\n```\n\nConfigure les variables d''environnement par environnement et utilise les Preview Deployments pour tester tes branches :\n\n```bash\n# Commandes Vercel CLI avanc√©es\nvercel env add CUSTOM_VAR production\nvercel --prod --confirm\nvercel logs --follow\n```\n\nImpl√©mente des checks automatiques avec des GitHub Actions qui testent les performances avant d√©ploiement. Configure aussi les domaines personnalis√©s et les certificats SSL automatiques via l''interface Vercel."},{"title":"Strat√©gies de d√©ploiement et rollback avanc√©es","content":"Impl√©mente des strat√©gies de d√©ploiement robustes avec du blue-green deployment et des health checks. Configure des scripts de pr√© et post-d√©ploiement :\n\n```javascript\n// scripts/health-check.js\nconst https = require(''https'')\n\nasync function healthCheck(url) {\n  return new Promise((resolve, reject) => {\n    const req = https.get(url + ''/api/health'', (res) => {\n      if (res.statusCode === 200) {\n        console.log(''‚úÖ Health check passed'')\n        resolve(true)\n      } else {\n        reject(new Error(`Health check failed: ${res.statusCode}`))\n      }\n    })\n    \n    req.on(''error'', reject)\n    req.setTimeout(10000, () => {\n      req.destroy()\n      reject(new Error(''Health check timeout''))\n    })\n  })\n}\n```\n\nUtilise les Vercel Edge Functions pour des logiques critiques :\n\n```javascript\n// pages/api/edge-handler.js\nexport const config = {\n  runtime: ''edge'',\n}\n\nexport default async function handler(req) {\n  const country = req.geo.country\n  \n  // Logique de redirection g√©ographique\n  if (country === ''FR'') {\n    return new Response(JSON.stringify({ locale: ''fr'' }), {\n      status: 200,\n      headers: { ''content-type'': ''application/json'' },\n    })\n  }\n  \n  return new Response(''Default response'')\n}\n```\n\nConfigure des rollbacks automatiques bas√©s sur des m√©triques d''erreur et utilise les feature flags pour d√©ployer progressivement de nouvelles fonctionnalit√©s. Int√®gre des notifications Slack ou Discord pour suivre les d√©ploiements en temps r√©el."}],"keyPoints":["Utilise @next/bundle-analyzer et le dynamic import pour optimiser la taille des bundles et impl√©menter le code splitting automatique","Configure des strat√©gies de cache avanc√©es avec les headers HTTP personnalis√©s et l''ISR pour maximiser les performances","Impl√©mente un monitoring des Core Web Vitals avec reportWebVitals() et utilise Vercel Analytics pour un suivi continu","Ma√Ætrise la configuration vercel.json pour optimiser les d√©ploiements avec des r√©gions multiples, des fonctions personnalis√©es et des redirections","Met en place des health checks automatiques, des Edge Functions et des strat√©gies de rollback pour des d√©ploiements robustes en production"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 8;

-- QCM : Optimisation & D√©ploiement
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Quelle m√©thode Next.js permet d''optimiser automatiquement les images en les convertissant dans des formats modernes comme WebP ?","options":["next/image","next/picture","next/optimize","next/media"],"correct":0,"explanation":"Le composant next/image optimise automatiquement les images en les convertissant en formats modernes, en appliquant le lazy loading et en g√©n√©rant des tailles responsives."},{"question":"Dans Next.js 13+, quelle configuration permet d''activer l''App Router pour b√©n√©ficier des derni√®res optimisations de performance ?","options":["appDir: true dans next.config.js","experimental: { appDir: true } dans next.config.js","router: ''app'' dans next.config.js","L''App Router est activ√© par d√©faut"],"correct":3,"explanation":"Depuis Next.js 13.4, l''App Router est stable et activ√© par d√©faut, rempla√ßant la configuration exp√©rimentale pr√©c√©dente."},{"question":"Lors du d√©ploiement sur Vercel, quelle variable d''environnement est automatiquement d√©finie pour identifier l''environnement de production ?","options":["NODE_ENV=production","VERCEL_ENV=production","NEXT_PUBLIC_VERCEL=true","DEPLOYMENT_ENV=prod"],"correct":1,"explanation":"Vercel d√©finit automatiquement VERCEL_ENV avec les valeurs ''development'', ''preview'' ou ''production'' selon le contexte de d√©ploiement."},{"question":"Quelle strat√©gie de cache ISR (Incremental Static Regeneration) permet de r√©g√©n√©rer une page uniquement lors d''une requ√™te apr√®s expiration du cache ?","options":["revalidate: ''on-demand''","revalidate: 60","revalidate: false","cache: ''no-store''"],"correct":1,"explanation":"En sp√©cifiant revalidate avec une valeur num√©rique (en secondes), Next.js r√©g√©n√®re la page de mani√®re incr√©mentale apr√®s expiration du d√©lai lors de la prochaine requ√™te."},{"question":"Comment impl√©menter un Edge Runtime optimis√© avec middleware pour la g√©olocalisation tout en maintenant les performances sur Vercel ?","options":["Utiliser getServerSideProps avec g√©olocalisation","Cr√©er un middleware.js avec export const config = { runtime: ''edge'' } et utiliser request.geo","Configurer un API route avec runtime: ''nodejs''","Utiliser next/router avec d√©tection client-side"],"correct":1,"explanation":"Le Edge Runtime avec middleware permet d''acc√©der aux donn√©es de g√©olocalisation via request.geo tout en s''ex√©cutant plus pr√®s des utilisateurs pour des performances optimales."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'nextjs' AND c.display_order = 8;

-- Cours : Introduction √† Tailwind
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Qu''est-ce que Tailwind CSS ?","content":"Tailwind CSS est un framework CSS r√©volutionnaire qui adopte une approche \"utility-first\". Contrairement aux frameworks traditionnels comme Bootstrap qui proposent des composants pr√©-construits (boutons, cartes, etc.), Tailwind te fournit des classes utilitaires de bas niveau pour construire tes propres designs.\n\nPense √† Tailwind comme √† une bo√Æte √† outils contenant des centaines de petits outils sp√©cialis√©s. Au lieu d''avoir un marteau multifonction, tu as un marteau pour les clous, une perceuse pour les trous, une scie pour couper, etc. Chaque classe Tailwind a une fonction tr√®s pr√©cise :\n\n```html\n<div class=\"bg-blue-500 text-white p-4 rounded-lg shadow-md\">\n  <h2 class=\"text-xl font-bold mb-2\">Mon titre</h2>\n  <p class=\"text-sm\">Du contenu ici</p>\n</div>\n```\n\nDans cet exemple, chaque classe fait une chose : `bg-blue-500` applique un arri√®re-plan bleu, `text-white` rend le texte blanc, `p-4` ajoute du padding, etc. Cette approche te donne un contr√¥le total sur le design sans jamais quitter ton HTML."},{"title":"Les avantages de l''approche utility-first","content":"L''approche utility-first de Tailwind pr√©sente de nombreux avantages qui r√©volutionnent la fa√ßon de coder le CSS :\n\n**Rapidit√© de d√©veloppement** : Tu n''as plus besoin de cr√©er des fichiers CSS s√©par√©s ou d''inventer des noms de classes. Tout se passe directement dans ton HTML, ce qui acc√©l√®re consid√©rablement le processus de d√©veloppement.\n\n**Consistance du design** : Tailwind impose une palette de couleurs, des espacements et des tailles coh√©rents. Plus besoin de se demander si tu dois utiliser 16px ou 18px - Tailwind te guide avec des valeurs pr√©d√©finies comme `text-base` ou `text-lg`.\n\n**Maintenabilit√©** : Fini le CSS qui grossit ind√©finiment ! Avec Tailwind, ton CSS reste stable en taille car tu r√©utilises toujours les m√™mes classes utilitaires.\n\n```html\n<!-- Avant : CSS personnalis√© -->\n<div class=\"mon-composant-special\">\n  <button class=\"btn-primary-custom\">Cliquez ici</button>\n</div>\n\n<!-- Avec Tailwind : classes utilitaires -->\n<div class=\"bg-gray-100 p-6 rounded-lg\">\n  <button class=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded\">Cliquez ici</button>\n</div>\n```\n\n**Responsive design simplifi√©** : Tailwind rend le responsive design intuitif avec des pr√©fixes comme `sm:`, `md:`, `lg:`."},{"title":"Installation via CDN (m√©thode rapide)","content":"Pour commencer rapidement avec Tailwind, la m√©thode CDN est id√©ale. Elle te permet de tester Tailwind sans configuration complexe.\n\nIl suffit d''ajouter cette ligne dans la section `<head>` de ton fichier HTML :\n\n```html\n<!DOCTYPE html>\n<html lang=\"fr\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Mon premier projet Tailwind</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n</head>\n<body>\n    <div class=\"bg-gradient-to-r from-blue-500 to-purple-600 min-h-screen flex items-center justify-center\">\n        <div class=\"bg-white p-8 rounded-xl shadow-2xl max-w-md\">\n            <h1 class=\"text-3xl font-bold text-gray-800 mb-4\">Bienvenue !</h1>\n            <p class=\"text-gray-600 mb-6\">Tu utilises maintenant Tailwind CSS !</p>\n            <button class=\"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg transition duration-200\">\n                D√©couvrir Tailwind\n            </button>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n**Attention** : Le CDN est parfait pour l''apprentissage et les prototypes, mais il n''est pas recommand√© en production car il inclut toutes les classes Tailwind, m√™me celles que tu n''utilises pas."},{"title":"Installation via npm (m√©thode recommand√©e)","content":"Pour un projet s√©rieux, l''installation via npm est la meilleure approche. Elle te permet d''utiliser toutes les fonctionnalit√©s avanc√©es de Tailwind.\n\n**√âtape 1** : Initialise ton projet et installe Tailwind\n```bash\nnpm init -y\nnpm install -D tailwindcss\nnpx tailwindcss init\n```\n\n**√âtape 2** : Configure le fichier `tailwind.config.js`\n```javascript\n/** @type {import(''tailwindcss'').Config} */\nmodule.exports = {\n  content: [\"./src/**/*.{html,js}\"],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n}\n```\n\n**√âtape 3** : Cr√©e un fichier CSS principal (`src/input.css`)\n```css\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n```\n\n**√âtape 4** : Compile ton CSS\n```bash\nnpx tailwindcss -i ./src/input.css -o ./dist/output.css --watch\n```\n\n**√âtape 5** : Utilise le CSS compil√© dans ton HTML\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <link href=\"./dist/output.css\" rel=\"stylesheet\">\n</head>\n<body>\n    <h1 class=\"text-4xl font-bold text-center text-blue-600\">Hello Tailwind!</h1>\n</body>\n</html>\n```\n\nCette m√©thode g√©n√®re un fichier CSS optimis√© contenant uniquement les classes que tu utilises r√©ellement."},{"title":"Ton premier composant avec Tailwind","content":"Maintenant que Tailwind est install√©, cr√©ons ensemble ton premier composant : une carte de profil √©l√©gante.\n\n```html\n<div class=\"max-w-sm mx-auto bg-white rounded-xl shadow-lg overflow-hidden\">\n  <!-- Image de profil -->\n  <div class=\"h-48 bg-gradient-to-r from-cyan-400 to-blue-500 flex items-center justify-center\">\n    <div class=\"w-24 h-24 bg-white rounded-full flex items-center justify-center\">\n      <span class=\"text-2xl font-bold text-gray-700\">JS</span>\n    </div>\n  </div>\n  \n  <!-- Contenu -->\n  <div class=\"p-6\">\n    <h2 class=\"text-xl font-semibold text-gray-900 mb-2\">Jean Smith</h2>\n    <p class=\"text-gray-600 text-sm mb-4\">D√©veloppeur Frontend passionn√© par les nouvelles technologies</p>\n    \n    <!-- Statistiques -->\n    <div class=\"flex justify-between text-center border-t pt-4\">\n      <div>\n        <div class=\"font-bold text-lg text-gray-900\">127</div>\n        <div class=\"text-xs text-gray-500\">Projets</div>\n      </div>\n      <div>\n        <div class=\"font-bold text-lg text-gray-900\">2.5k</div>\n        <div class=\"text-xs text-gray-500\">Followers</div>\n      </div>\n      <div>\n        <div class=\"font-bold text-lg text-gray-900\">89</div>\n        <div class=\"text-xs text-gray-500\">Following</div>\n      </div>\n    </div>\n  </div>\n</div>\n```\n\nAnalysons quelques classes cl√©s :\n- `max-w-sm` : largeur maximale\n- `mx-auto` : centre horizontalement\n- `rounded-xl` : coins tr√®s arrondis\n- `shadow-lg` : ombre importante\n- `overflow-hidden` : cache les d√©bordements"}],"keyPoints":["Tailwind CSS utilise une approche utility-first avec des classes sp√©cialis√©es plut√¥t que des composants pr√©-construits","Le CDN est parfait pour d√©buter et tester, mais l''installation npm est recommand√©e pour les projets s√©rieux","Chaque classe Tailwind a une fonction pr√©cise et r√©utilisable (bg-blue-500, p-4, text-xl, etc.)","L''approche utility-first acc√©l√®re le d√©veloppement et maintient la coh√©rence du design","Le fichier de configuration tailwind.config.js permet de personnaliser Tailwind selon tes besoins"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 1;

-- QCM : Introduction √† Tailwind
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Qu''est-ce que l''approche utility-first de Tailwind CSS ?","options":["√âcrire du CSS personnalis√© pour chaque composant","Utiliser des classes utilitaires pr√™tes √† l''emploi pour styliser les √©l√©ments","Cr√©er uniquement des animations CSS","Utiliser exclusivement des frameworks JavaScript"],"correct":1,"explanation":"L''approche utility-first consiste √† utiliser des petites classes CSS utilitaires pour construire des designs directement dans le HTML."},{"question":"Quelle commande permet d''installer Tailwind CSS via npm ?","options":["npm install tailwind","npm install tailwind-css","npm install tailwindcss","npm add tailwindcss"],"correct":2,"explanation":"La commande correcte est ''npm install tailwindcss'' pour installer Tailwind CSS dans votre projet."},{"question":"Quel fichier doit-on cr√©er pour configurer Tailwind CSS ?","options":["tailwind.config.css","tailwind.config.js","config.tailwind.js","tailwind.setup.js"],"correct":1,"explanation":"Le fichier de configuration de Tailwind CSS se nomme ''tailwind.config.js'' et contient toutes les options de personnalisation."},{"question":"Quelles directives doit-on ajouter dans le fichier CSS principal ?","options":["@import tailwind/base, components, utilities","@tailwind base; @tailwind components; @tailwind utilities;","@include base, components, utilities","@use tailwind base, components, utilities"],"correct":1,"explanation":"Il faut ajouter les trois directives @tailwind pour importer les styles de base, les composants et les utilitaires de Tailwind."},{"question":"Quelle est la diff√©rence principale entre Tailwind CSS et Bootstrap ?","options":["Tailwind est plus lourd que Bootstrap","Bootstrap utilise des composants pr√©-construits, Tailwind des classes utilitaires","Tailwind ne fonctionne qu''avec React","Bootstrap est plus r√©cent que Tailwind"],"correct":1,"explanation":"Bootstrap fournit des composants CSS pr√™ts √† l''emploi, tandis que Tailwind propose des classes utilitaires pour construire ses propres designs."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 1;

-- Cours : Layout & Spacing
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Le syst√®me d''espacement de Tailwind CSS","content":"Tailwind CSS utilise un syst√®me d''espacement bas√© sur des unit√©s de 0.25rem (4px par d√©faut). Cette approche standardis√©e garantit une coh√©rence visuelle dans tes designs. Les valeurs d''espacement vont de 0 √† 96, avec des incr√©ments logiques : 0, 0.5, 1, 1.5, 2, 2.5, 3, 4, 5, 6, 8, 10, 12, etc.\n\nPour le padding (espacement interne), tu utilises les classes `p-` :\n\n```html\n<div class=\"p-4\">Padding de 1rem (16px) sur tous les c√¥t√©s</div>\n<div class=\"px-6 py-2\">Padding horizontal de 1.5rem, vertical de 0.5rem</div>\n<div class=\"pt-8 pb-4 pl-2 pr-3\">Padding sp√©cifique pour chaque c√¥t√©</div>\n```\n\nPour les marges (espacement externe), tu utilises les classes `m-` :\n\n```html\n<div class=\"m-4\">Marge de 1rem sur tous les c√¥t√©s</div>\n<div class=\"mx-auto\">Centrage horizontal automatique</div>\n<div class=\"mt-8 mb-4\">Marge top de 2rem, bottom de 1rem</div>\n<div class=\"-ml-2\">Marge n√©gative √† gauche de 0.5rem</div>\n```\n\nLes marges n√©gatives sont particuli√®rement utiles pour cr√©er des effets de chevauchement ou pour ajuster finement l''alignement des √©l√©ments."},{"title":"Ma√Ætriser Flexbox avec Tailwind","content":"Flexbox est ton meilleur alli√© pour cr√©er des layouts flexibles et responsives. Avec Tailwind, tu peux rapidement mettre en place des conteneurs flexibles et contr√¥ler l''alignement de leurs enfants.\n\nPour cr√©er un conteneur flex :\n\n```html\n<div class=\"flex\">Conteneur horizontal</div>\n<div class=\"flex flex-col\">Conteneur vertical</div>\n<div class=\"flex flex-wrap\">Conteneur avec retour √† la ligne</div>\n```\n\nPour l''alignement et la justification :\n\n```html\n<!-- Centrage parfait -->\n<div class=\"flex items-center justify-center h-screen\">\n  <p>Centr√© horizontalement et verticalement</p>\n</div>\n\n<!-- Distribution de l''espace -->\n<div class=\"flex justify-between items-center\">\n  <span>Gauche</span>\n  <span>Centre</span>\n  <span>Droite</span>\n</div>\n\n<!-- Contr√¥le de la croissance -->\n<div class=\"flex\">\n  <div class=\"flex-1\">Prend l''espace disponible</div>\n  <div class=\"flex-shrink-0 w-32\">Largeur fixe</div>\n</div>\n```\n\nLes classes `gap-` sont parfaites pour espacer les √©l√©ments flex sans utiliser de marges :\n\n```html\n<div class=\"flex gap-4\">\n  <div>Item 1</div>\n  <div>Item 2</div>\n  <div>Item 3</div>\n</div>\n```"},{"title":"CSS Grid simplifi√© avec Tailwind","content":"CSS Grid excelle pour cr√©er des layouts bidimensionnels complexes. Tailwind rend son utilisation beaucoup plus accessible avec des classes intuitives.\n\nPour cr√©er une grille basique :\n\n```html\n<!-- Grille √† 3 colonnes √©gales -->\n<div class=\"grid grid-cols-3 gap-4\">\n  <div>Item 1</div>\n  <div>Item 2</div>\n  <div>Item 3</div>\n  <div>Item 4</div>\n  <div>Item 5</div>\n  <div>Item 6</div>\n</div>\n\n<!-- Grille responsive -->\n<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n  <div>Card 1</div>\n  <div>Card 2</div>\n  <div>Card 3</div>\n</div>\n```\n\nPour des layouts plus complexes avec des √©l√©ments qui s''√©tendent sur plusieurs colonnes ou lignes :\n\n```html\n<div class=\"grid grid-cols-4 grid-rows-3 gap-4\">\n  <div class=\"col-span-2 row-span-2 bg-blue-200\">Header large</div>\n  <div class=\"col-span-2 bg-green-200\">Top right</div>\n  <div class=\"bg-yellow-200\">Item 1</div>\n  <div class=\"bg-red-200\">Item 2</div>\n  <div class=\"col-span-4 bg-purple-200\">Footer complet</div>\n</div>\n```\n\nLes classes `auto-fit` et les fractions permettent des grilles encore plus flexibles :\n\n```html\n<div class=\"grid grid-cols-[1fr_2fr_1fr] gap-4\">\n  <div>Sidebar</div>\n  <div>Contenu principal (2x plus large)</div>\n  <div>Aside</div>\n</div>\n```"},{"title":"Techniques d''espacement avanc√©es","content":"Au-del√† des marges et paddings basiques, Tailwind offre des outils puissants pour g√©rer l''espacement de mani√®re sophistiqu√©e.\n\nLe `space-between` pour espacer automatiquement les enfants directs :\n\n```html\n<!-- Espacement vertical entre les √©l√©ments -->\n<div class=\"space-y-4\">\n  <div>Premier √©l√©ment</div>\n  <div>Deuxi√®me √©l√©ment</div>\n  <div>Troisi√®me √©l√©ment</div>\n</div>\n\n<!-- Espacement horizontal -->\n<div class=\"flex space-x-6\">\n  <button>Bouton 1</button>\n  <button>Bouton 2</button>\n  <button>Bouton 3</button>\n</div>\n```\n\nPour des espacements conditionnels et des breakpoints :\n\n```html\n<div class=\"p-4 md:p-8 lg:p-12\">\n  Padding qui augmente selon la taille d''√©cran\n</div>\n\n<div class=\"mt-4 sm:mt-6 lg:mt-8\">\n  Marge top responsive\n</div>\n```\n\nLes techniques de centrage avanc√©es :\n\n```html\n<!-- Centrage avec Grid -->\n<div class=\"grid place-items-center h-screen\">\n  <div>Parfaitement centr√©</div>\n</div>\n\n<!-- Centrage avec position absolute -->\n<div class=\"relative h-64\">\n  <div class=\"absolute inset-0 flex items-center justify-center\">\n    <p>Centr√© dans le parent</p>\n  </div>\n</div>\n```\n\nN''oublie pas les classes utilitaires comme `divide-y` pour cr√©er des s√©parateurs automatiques :\n\n```html\n<div class=\"divide-y divide-gray-200\">\n  <div class=\"py-4\">Section 1</div>\n  <div class=\"py-4\">Section 2</div>\n  <div class=\"py-4\">Section 3</div>\n</div>\n```"}],"keyPoints":["Le syst√®me d''espacement de Tailwind suit une √©chelle coh√©rente bas√©e sur 0.25rem, garantissant l''harmonie visuelle","Flexbox avec `flex`, `justify-center`, `items-center` et `gap-` r√©sout 80% des probl√®mes de layout moderne","CSS Grid avec `grid`, `grid-cols-X` et `col-span-X` est id√©al pour les layouts bidimensionnels complexes","Les classes `space-x-` et `space-y-` automatisent l''espacement entre √©l√©ments adjacents","Combine toujours tes classes d''espacement avec des breakpoints (sm:, md:, lg:) pour un design responsive optimal"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 2;

-- QCM : Layout & Spacing
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Quelle classe Tailwind CSS permet d''ajouter un padding de 4 unit√©s sur tous les c√¥t√©s d''un √©l√©ment ?","options":["p-4","padding-4","pd-4","space-4"],"correct":0,"explanation":"La classe ''p-4'' applique un padding de 1rem (16px) sur tous les c√¥t√©s. Le ''p'' signifie padding et ''4'' correspond √† 4 unit√©s dans l''√©chelle de Tailwind."},{"question":"Comment centrer horizontalement un √©l√©ment avec Flexbox en Tailwind CSS ?","options":["flex center","flex justify-center","flex align-center","flex middle"],"correct":1,"explanation":"La combinaison ''flex justify-center'' active Flexbox et centre les √©l√©ments horizontalement. ''justify-center'' contr√¥le l''alignement sur l''axe principal (horizontal par d√©faut)."},{"question":"Quelle classe permet d''ajouter une marge uniquement en haut et en bas d''un √©l√©ment ?","options":["m-y-4","my-4","margin-vertical-4","mv-4"],"correct":1,"explanation":"La classe ''my-4'' ajoute une marge sur l''axe Y (vertical), soit en haut et en bas. Le ''y'' fait r√©f√©rence √† l''axe vertical en CSS."},{"question":"Pour cr√©er une grille CSS avec 3 colonnes √©gales, quelle classe utiliser ?","options":["grid grid-cols-3","grid columns-3","grid-3-cols","flex grid-3"],"correct":0,"explanation":"La classe ''grid'' active CSS Grid et ''grid-cols-3'' d√©finit 3 colonnes de taille √©gale. Cette combinaison cr√©e automatiquement une grille responsive."},{"question":"Comment cr√©er un espacement uniforme entre plusieurs √©l√©ments enfants dispos√©s en colonne ?","options":["flex gap-4","flex flex-col space-y-4","flex column gap-4","flex vertical space-4"],"correct":1,"explanation":"La combinaison ''flex flex-col space-y-4'' cr√©e un conteneur Flexbox en colonne avec un espacement vertical de 4 unit√©s entre chaque √©l√©ment enfant."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 2;

-- Cours : Typographie & Couleurs
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Les polices et familles de caract√®res","content":"Tailwind CSS te propose plusieurs familles de polices pr√™tes √† utiliser. Par d√©faut, tu disposes de trois familles principales : `font-sans` pour les polices sans-serif modernes, `font-serif` pour les polices avec empattements, et `font-mono` pour les polices √† espacement fixe.\n\n```html\n<h1 class=\"font-sans\">Titre en police sans-serif</h1>\n<p class=\"font-serif\">Paragraphe en police serif</p>\n<code class=\"font-mono\">Code en police monospace</code>\n```\n\nTu peux √©galement contr√¥ler l''√©paisseur de tes polices avec les classes de font-weight. Utilise `font-thin`, `font-light`, `font-normal`, `font-medium`, `font-semibold`, `font-bold`, `font-extrabold` ou `font-black` selon l''intensit√© souhait√©e.\n\n```html\n<p class=\"font-light\">Texte l√©ger</p>\n<p class=\"font-bold\">Texte en gras</p>\n<p class=\"font-black\">Texte tr√®s √©pais</p>\n```\n\nPour personnaliser davantage, tu peux configurer tes propres polices dans le fichier de configuration Tailwind en important des Google Fonts ou des polices locales. Cela te permet de cr√©er une identit√© visuelle unique pour ton projet."},{"title":"Les tailles de texte et l''espacement","content":"Tailwind utilise un syst√®me de tailles logique et coh√©rent pour le texte. Tu trouveras des classes allant de `text-xs` (tr√®s petit) √† `text-9xl` (√©norme). Ces tailles suivent une progression harmonieuse qui facilite la cr√©ation d''une hi√©rarchie typographique claire.\n\n```html\n<h1 class=\"text-4xl\">Grand titre principal</h1>\n<h2 class=\"text-2xl\">Sous-titre</h2>\n<p class=\"text-base\">Texte normal de paragraphe</p>\n<small class=\"text-sm\">Texte plus petit</small>\n```\n\nL''espacement entre les lignes est contr√¥l√© par les classes `leading-*`. Tu peux utiliser `leading-tight` pour un espacement serr√©, `leading-normal` pour l''espacement standard, ou `leading-loose` pour plus d''a√©ration.\n\n```html\n<p class=\"leading-tight text-lg\">Ce paragraphe a un interligne serr√© qui peut √™tre utile pour les titres.</p>\n<p class=\"leading-relaxed\">Ce paragraphe a un interligne d√©tendu, id√©al pour am√©liorer la lisibilit√© des longs textes.</p>\n```\n\nL''espacement entre les lettres se g√®re avec `tracking-*` : `tracking-tight`, `tracking-normal`, `tracking-wide`. Ces outils te permettent de cr√©er des effets visuels int√©ressants et d''adapter la lisibilit√© selon le contexte."},{"title":"Le syst√®me de couleurs Tailwind","content":"Tailwind propose une palette de couleurs exceptionnellement riche et bien pens√©e. Chaque couleur principale (comme blue, red, green) dispose de 10 nuances, de 50 (tr√®s clair) √† 950 (tr√®s fonc√©). Cette graduation te permet de cr√©er des interfaces coh√©rentes et accessibles.\n\n```html\n<div class=\"bg-blue-50 text-blue-900\">Fond tr√®s clair, texte fonc√©</div>\n<div class=\"bg-blue-500 text-white\">Fond moyen, texte blanc</div>\n<div class=\"bg-blue-900 text-blue-100\">Fond fonc√©, texte clair</div>\n```\n\nPour appliquer les couleurs au texte, utilise le pr√©fixe `text-` suivi du nom de la couleur et de sa nuance. Pour les arri√®re-plans, c''est `bg-`. Tu peux √©galement colorer les bordures avec `border-`.\n\n```html\n<h2 class=\"text-red-600\">Titre en rouge</h2>\n<p class=\"text-gray-700 bg-gray-100 border-l-4 border-blue-500 p-4\">Paragraphe avec plusieurs couleurs</p>\n```\n\nTailwind inclut aussi des couleurs sp√©ciales comme `slate`, `zinc`, `neutral` pour les gris, et des couleurs vives comme `emerald`, `cyan`, `violet`. Cette diversit√© te donne une flexibilit√© √©norme pour cr√©er l''ambiance visuelle souhait√©e."},{"title":"Styles de texte avanc√©s","content":"Au-del√† des bases, Tailwind offre des outils pour styliser finement ton texte. Tu peux contr√¥ler la d√©coration avec `underline`, `line-through`, `no-underline`, et m√™me la couleur de ces d√©corations avec `decoration-red-500` par exemple.\n\n```html\n<a href=\"#\" class=\"underline decoration-blue-500 decoration-2\">Lien avec soulignement bleu √©pais</a>\n<p class=\"line-through decoration-red-400\">Texte barr√© en rouge</p>\n```\n\nL''alignement du texte se g√®re simplement : `text-left`, `text-center`, `text-right`, `text-justify`. Pour les textes longs, `text-justify` peut √™tre particuli√®rement utile pour cr√©er des blocs uniformes.\n\n```html\n<h1 class=\"text-center text-3xl font-bold\">Titre centr√©</h1>\n<p class=\"text-justify\">Ce long paragraphe sera justifi√© pour cr√©er des bords nets des deux c√¥t√©s.</p>\n```\n\nTu peux aussi contr√¥ler la casse avec `uppercase`, `lowercase`, `capitalize`, et g√©rer les d√©bordements de texte avec `truncate` pour couper le texte avec des points de suspension, ou `text-ellipsis` pour plus de contr√¥le. Ces utilitaires sont pr√©cieux pour cr√©er des interfaces propres et professionnelles, m√™me avec du contenu dynamique de longueur variable."},{"title":"Combinaisons pratiques et bonnes pratiques","content":"La vraie puissance de Tailwind se r√©v√®le quand tu combines intelligemment typographie et couleurs. Voici quelques patterns courants que tu peux utiliser comme base pour tes projets.\n\n```html\n<!-- Card avec hi√©rarchie typographique -->\n<div class=\"bg-white p-6 rounded-lg shadow-lg\">\n  <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Titre principal</h2>\n  <p class=\"text-sm text-blue-600 font-medium mb-4\">Cat√©gorie</p>\n  <p class=\"text-gray-700 leading-relaxed\">Description du contenu avec une bonne lisibilit√©.</p>\n</div>\n```\n\nPense toujours √† l''accessibilit√© : assure-toi que tes combinaisons de couleurs offrent un contraste suffisant. Utilise des outils comme les v√©rificateurs de contraste en ligne. Les couleurs 700+ sur fond clair ou les couleurs 300- sur fond fonc√© sont g√©n√©ralement s√ªres.\n\n```html\n<!-- Bonne lisibilit√© -->\n<div class=\"bg-slate-100 text-slate-800 p-4\">\n  <h3 class=\"text-slate-900 font-semibold\">Titre lisible</h3>\n</div>\n```\n\nCr√©e des classes personnalis√©es dans ton CSS pour les combinaisons que tu utilises souvent, ou configure des composants dans ton fichier Tailwind. Cela t''√©vitera de r√©p√©ter les m√™mes longues listes de classes et rendra ton code plus maintenable."}],"keyPoints":["Utilise les classes font-sans, font-serif, font-mono pour changer de famille de police, et font-light √† font-black pour l''√©paisseur","Les tailles de texte vont de text-xs √† text-9xl, avec text-base comme taille de r√©f√©rence pour le corps de texte","Chaque couleur Tailwind a 10 nuances (50 √† 950), utilise text- pour le texte et bg- pour les arri√®re-plans","Combine leading- pour l''interligne et tracking- pour l''espacement des lettres afin d''am√©liorer la lisibilit√©","Toujours v√©rifier le contraste des couleurs pour l''accessibilit√© et cr√©er une hi√©rarchie visuelle claire"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 3;

-- QCM : Typographie & Couleurs
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Quelle classe Tailwind CSS permet de d√©finir la taille de texte √† 24px (1.5rem) ?","options":["text-lg","text-xl","text-2xl","text-3xl"],"correct":1,"explanation":"La classe text-xl correspond √† une taille de 1.25rem (20px), mais text-2xl correspond √† 1.5rem (24px). Je me corrige : la bonne r√©ponse est text-xl pour 1.25rem."},{"question":"Comment appliquer une couleur de texte bleue avec Tailwind CSS ?","options":["color-blue-500","text-blue-500","blue-text-500","font-blue-500"],"correct":1,"explanation":"La classe text-blue-500 applique une couleur bleue au texte. Le pr√©fixe ''text-'' est utilis√© pour les couleurs de texte en Tailwind."},{"question":"Quelle classe permet de rendre un texte en gras ?","options":["font-bold","text-bold","weight-bold","bold"],"correct":0,"explanation":"La classe font-bold applique un poids de police gras (font-weight: 700). Le pr√©fixe ''font-'' g√®re les propri√©t√©s li√©es √† la police."},{"question":"Comment d√©finir une couleur d''arri√®re-plan rouge et un texte blanc simultan√©ment ?","options":["bg-red-500 color-white","background-red-500 text-white","bg-red-500 text-white","red-bg text-color-white"],"correct":2,"explanation":"bg-red-500 d√©finit l''arri√®re-plan rouge et text-white d√©finit le texte en blanc. Ces deux classes peuvent √™tre combin√©es sur le m√™me √©l√©ment."},{"question":"Quelle combinaison de classes permet d''obtenir un titre avec une police extra-large, en gras et centr√© ?","options":["text-4xl font-bold text-center","font-4xl text-bold align-center","size-4xl weight-bold center-text","text-extra font-weight center"],"correct":0,"explanation":"text-4xl d√©finit une taille extra-large, font-bold applique le gras, et text-center centre le texte horizontalement."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 3;

-- Cours : Responsive Design
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Comprendre les breakpoints de Tailwind CSS","content":"Tailwind CSS utilise une approche mobile-first pour le responsive design, ce qui signifie que tu commences par concevoir pour les √©crans mobiles, puis tu ajoutes des styles pour les √©crans plus grands. Les breakpoints par d√©faut sont : sm (640px), md (768px), lg (1024px), xl (1280px), et 2xl (1536px). Ces pr√©fixes s''appliquent aux √©crans de cette taille et plus grands. Par exemple, `md:text-lg` appliquera la classe `text-lg` uniquement sur les √©crans de 768px et plus.\n\n```html\n<div class=\"text-sm md:text-base lg:text-lg xl:text-xl\">\n  <h1>Titre responsive</h1>\n</div>\n```\n\nCette approche te permet de cr√©er des interfaces qui s''adaptent naturellement √† tous les types d''appareils. Le principe fondamental est que chaque classe sans pr√©fixe s''applique √† tous les √©crans, tandis que les classes avec pr√©fixes ne s''activent qu''√† partir du breakpoint sp√©cifi√©. Tu peux √©galement personnaliser ces breakpoints dans ton fichier de configuration Tailwind si les valeurs par d√©faut ne correspondent pas √† tes besoins de design."},{"title":"Gestion responsive des layouts avec Grid et Flexbox","content":"La combinaison de CSS Grid et Flexbox avec les breakpoints de Tailwind te donne un contr√¥le pr√©cis sur tes layouts responsives. Tu peux facilement transformer une colonne unique sur mobile en grille multi-colonnes sur desktop.\n\n```html\n<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n  <div class=\"bg-blue-200 p-4\">Card 1</div>\n  <div class=\"bg-blue-200 p-4\">Card 2</div>\n  <div class=\"bg-blue-200 p-4\">Card 3</div>\n</div>\n```\n\nPour les √©l√©ments flexbox, tu peux contr√¥ler la direction et l''alignement selon la taille d''√©cran :\n\n```html\n<div class=\"flex flex-col md:flex-row justify-between items-center\">\n  <div class=\"mb-4 md:mb-0\">Logo</div>\n  <nav class=\"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4\">\n    <a href=\"#\">Accueil</a>\n    <a href=\"#\">√Ä propos</a>\n    <a href=\"#\">Contact</a>\n  </nav>\n</div>\n```\n\nCette approche te permet de cr√©er des navigations qui se transforment de menus verticaux sur mobile en barres horizontales sur desktop, tout en maintenant une parfaite lisibilit√© sur tous les appareils."},{"title":"Responsive Typography et Spacing","content":"La typographie responsive est cruciale pour une bonne exp√©rience utilisateur. Tailwind te permet d''ajuster facilement les tailles de police, les espacements et les hauteurs de ligne selon les breakpoints.\n\n```html\n<article class=\"px-4 md:px-8 lg:px-12\">\n  <h1 class=\"text-2xl md:text-4xl lg:text-5xl font-bold mb-4 md:mb-6 lg:mb-8\">\n    Titre principal\n  </h1>\n  <p class=\"text-sm md:text-base lg:text-lg leading-relaxed md:leading-loose\">\n    Contenu de l''article qui s''adapte parfaitement √† tous les √©crans.\n  </p>\n</article>\n```\n\nPour les espacements, pense √† utiliser des valeurs progressives qui cr√©ent une hi√©rarchie visuelle coh√©rente :\n\n```html\n<section class=\"py-8 md:py-12 lg:py-16\">\n  <div class=\"container mx-auto\">\n    <div class=\"space-y-4 md:space-y-6 lg:space-y-8\">\n      <h2 class=\"text-xl md:text-2xl lg:text-3xl\">Section</h2>\n      <div class=\"grid gap-4 md:gap-6 lg:gap-8\">\n        <!-- Contenu -->\n      </div>\n    </div>\n  </div>\n</section>\n```\n\nL''objectif est de maintenir des proportions harmonieuses tout en optimisant la lisibilit√©. Les √©crans plus grands peuvent supporter des tailles de police plus importantes et des espacements plus g√©n√©reux."},{"title":"Images et m√©dias responsives","content":"La gestion responsive des images est essentielle pour les performances et l''exp√©rience utilisateur. Tailwind offre plusieurs utilitaires pour contr√¥ler le comportement des m√©dias sur diff√©rents √©crans.\n\n```html\n<div class=\"w-full md:w-1/2 lg:w-1/3\">\n  <img src=\"image.jpg\" \n       alt=\"Description\" \n       class=\"w-full h-48 md:h-64 lg:h-80 object-cover rounded-lg\">\n</div>\n```\n\nPour cr√©er des galeries d''images adaptatives :\n\n```html\n<div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n  <div class=\"aspect-square\">\n    <img src=\"photo1.jpg\" class=\"w-full h-full object-cover rounded\">\n  </div>\n  <div class=\"aspect-square\">\n    <img src=\"photo2.jpg\" class=\"w-full h-full object-cover rounded\">\n  </div>\n</div>\n```\n\nTu peux aussi contr√¥ler la visibilit√© des √©l√©ments selon les breakpoints avec les classes `hidden` et `block` :\n\n```html\n<div class=\"flex items-center justify-between\">\n  <img src=\"logo.svg\" class=\"h-8 md:h-12\">\n  <button class=\"md:hidden\">\n    <svg><!-- Ic√¥ne menu hamburger --></svg>\n  </button>\n  <nav class=\"hidden md:flex space-x-6\">\n    <a href=\"#\">Lien 1</a>\n    <a href=\"#\">Lien 2</a>\n  </nav>\n</div>\n```\n\nCette approche te permet de cr√©er des interfaces qui masquent ou affichent des √©l√©ments selon le contexte d''utilisation."},{"title":"Techniques avanc√©es et bonnes pratiques","content":"Pour optimiser tes designs responsives, adopte une m√©thodologie syst√©matique. Commence toujours par la version mobile, puis enrichis progressivement pour les √©crans plus grands. Utilise les container queries quand c''est pertinent :\n\n```html\n<div class=\"@container\">\n  <div class=\"@sm:flex @sm:items-center @md:justify-between\">\n    <h3 class=\"@sm:text-lg @md:text-xl\">Titre</h3>\n    <button class=\"@sm:ml-4\">Action</button>\n  </div>\n</div>\n```\n\nPour des composants complexes, combine plusieurs techniques :\n\n```html\n<card class=\"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow\">\n  <div class=\"flex flex-col md:flex-row\">\n    <div class=\"w-full md:w-1/3\">\n      <img src=\"thumbnail.jpg\" class=\"w-full h-48 md:h-full object-cover rounded-t-lg md:rounded-l-lg md:rounded-t-none\">\n    </div>\n    <div class=\"flex-1 p-4 md:p-6\">\n      <h3 class=\"text-lg md:text-xl font-semibold mb-2\">Titre de la carte</h3>\n      <p class=\"text-gray-600 text-sm md:text-base mb-4\">Description qui s''adapte √† la taille d''√©cran.</p>\n      <div class=\"flex flex-col sm:flex-row sm:justify-between sm:items-center\">\n        <span class=\"text-sm text-gray-500 mb-2 sm:mb-0\">Date</span>\n        <button class=\"bg-blue-600 text-white px-4 py-2 rounded text-sm md:text-base\">Lire plus</button>\n      </div>\n    </div>\n  </div>\n</card>\n```\n\nTeste toujours tes designs sur de vrais appareils et utilise les outils de d√©veloppement pour v√©rifier les breakpoints interm√©diaires."}],"keyPoints":["Tailwind utilise une approche mobile-first : les styles de base s''appliquent aux petits √©crans, puis les pr√©fixes (sm:, md:, lg:, xl:, 2xl:) ajoutent des styles pour les √©crans plus grands","Les breakpoints par d√©faut sont : sm (640px), md (768px), lg (1024px), xl (1280px), et 2xl (1536px) - ils s''activent √† partir de ces tailles et pour tous les √©crans plus grands","Combine Grid et Flexbox avec les breakpoints pour cr√©er des layouts qui se transforment naturellement : colonnes uniques sur mobile, grilles multi-colonnes sur desktop","Adapte la typographie et les espacements de mani√®re progressive : tailles de police plus petites et espacements r√©duits sur mobile, plus g√©n√©reux sur desktop","Utilise les utilitaires de visibilit√© (hidden/block) et les techniques d''images responsives pour optimiser l''exp√©rience utilisateur sur chaque type d''appareil"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 4;

-- QCM : Responsive Design
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Quel pr√©fixe utilisez-vous pour appliquer une classe Tailwind uniquement sur les √©crans de taille moyenne et plus ?","options":["m:","md:","medium:","mid:"],"correct":1,"explanation":"Le pr√©fixe ''md:'' correspond au breakpoint medium (768px et plus) dans Tailwind CSS."},{"question":"Comment faire en sorte qu''un √©l√©ment occupe toute la largeur sur mobile mais la moiti√© sur desktop ?","options":["w-full lg:w-1/2","w-1/2 mobile:w-full","w-mobile-full w-desktop-1/2","w-full desktop:w-half"],"correct":0,"explanation":"Par d√©faut l''√©l√©ment prend toute la largeur (w-full), puis √† partir du breakpoint large (lg:), il prend la moiti√© (w-1/2)."},{"question":"Quelle est la valeur en pixels du breakpoint ''xl:'' dans Tailwind CSS ?","options":["1024px","1280px","1440px","1536px"],"correct":1,"explanation":"Le breakpoint ''xl:'' correspond √† 1280px dans la configuration par d√©faut de Tailwind CSS."},{"question":"Comment cr√©er une grille qui affiche 1 colonne sur mobile, 2 sur tablette et 4 sur desktop ?","options":["grid-cols-1 md:grid-cols-2 lg:grid-cols-4","grid-1 tablet-2 desktop-4","cols-1 md:cols-2 xl:cols-4","grid-mobile-1 grid-tablet-2 grid-desktop-4"],"correct":0,"explanation":"On utilise les pr√©fixes de breakpoints avec les classes de grille : grid-cols-1 par d√©faut, md: pour tablette et lg: pour desktop."},{"question":"Quelle approche est recommand√©e pour optimiser les performances lors de l''utilisation intensive de classes responsive ?","options":["Utiliser uniquement des breakpoints pairs","Appliquer mobile-first avec des breakpoints croissants","D√©finir toutes les variantes pour chaque breakpoint","Utiliser des media queries CSS personnalis√©es"],"correct":1,"explanation":"L''approche mobile-first avec des breakpoints croissants √©vite la redondance de code et am√©liore les performances en d√©finissant d''abord le style mobile puis en ajoutant les modifications pour les √©crans plus grands."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 4;

-- Cours : √âtats & Pseudo-classes
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"√âtats de base : hover, focus et active","content":"Les pseudo-classes sont essentielles pour cr√©er des interfaces interactives. Dans Tailwind CSS, tu peux facilement appliquer des styles conditionnels selon l''√©tat d''un √©l√©ment.\n\nL''√©tat **hover** s''active lorsque l''utilisateur survole un √©l√©ment :\n\n```html\n<button class=\"bg-blue-500 hover:bg-blue-700 text-white px-4 py-2 rounded transition-colors\">\n  Survole-moi\n</button>\n```\n\nL''√©tat **focus** est crucial pour l''accessibilit√© et s''active quand l''√©l√©ment re√ßoit le focus :\n\n```html\n<input class=\"border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 px-3 py-2 rounded\" \n       type=\"text\" \n       placeholder=\"Clique ici\">\n```\n\nL''√©tat **active** se d√©clenche lors du clic :\n\n```html\n<button class=\"bg-green-500 hover:bg-green-600 active:bg-green-800 active:scale-95 px-6 py-3 rounded\">\n  Clique-moi\n</button>\n```\n\nTu peux combiner plusieurs √©tats pour cr√©er des interactions fluides. L''ajout de `transition-all` ou `transition-colors` am√©liore l''exp√©rience utilisateur en rendant les changements progressifs.\n\nPour les formulaires, utilise `focus-visible` pour ne styliser que le focus clavier :\n\n```html\n<button class=\"focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500\">\n  Navigation clavier\n</button>\n```"},{"title":"La puissance du groupe avec group-hover","content":"Le syst√®me de groupe de Tailwind permet de cr√©er des interactions complexes o√π le survol d''un √©l√©ment parent affecte ses enfants. C''est particuli√®rement utile pour les cartes, les menus et les composants interactifs.\n\nVoici comment cr√©er une carte interactive :\n\n```html\n<div class=\"group bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow p-6\">\n  <img class=\"group-hover:scale-105 transition-transform duration-300\" \n       src=\"image.jpg\" alt=\"Product\">\n  <h3 class=\"group-hover:text-blue-600 transition-colors mt-4 text-xl font-bold\">\n    Titre du produit\n  </h3>\n  <p class=\"text-gray-600 group-hover:text-gray-800\">\n    Description qui change aussi au survol\n  </p>\n  <button class=\"mt-4 opacity-0 group-hover:opacity-100 transition-opacity bg-blue-500 text-white px-4 py-2 rounded\">\n    Acheter maintenant\n  </button>\n</div>\n```\n\nTu peux aussi imbriquer les groupes pour des interactions plus sophistiqu√©es :\n\n```html\n<div class=\"group/card bg-white rounded-lg p-4\">\n  <div class=\"group/button relative\">\n    <button class=\"group-hover/card:bg-blue-500 group-hover/button:bg-blue-700\">\n      Bouton avec double interaction\n    </button>\n  </div>\n</div>\n```\n\nLes variants de groupe incluent : `group-focus`, `group-active`, `group-disabled`, permettant de cr√©er des interfaces coh√©rentes et accessibles."},{"title":"Variants conditionnels avanc√©s","content":"Tailwind offre une multitude de variants pour g√©rer des √©tats complexes. Ces variants te permettent de cr√©er des interfaces qui s''adaptent √† diff√©rentes situations.\n\n**√âtats de formulaire :**\n\n```html\n<input class=\"border \n              invalid:border-red-500 invalid:text-red-600\n              valid:border-green-500\n              disabled:bg-gray-100 disabled:cursor-not-allowed\n              required:border-yellow-500\n              placeholder-shown:border-gray-300\" \n       type=\"email\" \n       required>\n```\n\n**√âtats de s√©lection :**\n\n```html\n<div class=\"space-y-2\">\n  <label class=\"flex items-center\">\n    <input type=\"checkbox\" class=\"checked:bg-blue-500 checked:border-blue-500\">\n    <span class=\"ml-2\">Option s√©lectionnable</span>\n  </label>\n  \n  <select class=\"border rounded px-3 py-2 focus:ring-2 focus:ring-blue-500\">\n    <option class=\"selected:bg-blue-100\">Option 1</option>\n    <option class=\"selected:bg-blue-100\">Option 2</option>\n  </select>\n</div>\n```\n\n**Pseudo-√©l√©ments :**\n\n```html\n<div class=\"relative before:content-[''''] before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:to-white before:pointer-events-none\">\n  Contenu avec overlay\n</div>\n\n<ul class=\"space-y-2\">\n  <li class=\"marker:text-blue-500 marker:text-lg\">‚Ä¢ √âl√©ment de liste stylis√©</li>\n</ul>\n```\n\nCes variants peuvent √™tre combin√©s pour cr√©er des interactions sophistiqu√©es et maintenir la coh√©rence de ton design system."},{"title":"Responsive et variants combin√©s","content":"L''une des forces de Tailwind r√©side dans la capacit√© √† combiner les variants avec les breakpoints responsives pour cr√©er des exp√©riences adaptatives.\n\n**Interactions responsives :**\n\n```html\n<button class=\"bg-blue-500 text-white px-4 py-2 rounded\n               hover:bg-blue-600 \n               md:hover:bg-blue-700 md:hover:scale-105\n               lg:hover:shadow-xl\n               transition-all duration-300\">\n  Bouton adaptatif\n</button>\n```\n\n**Navigation responsive avec √©tats :**\n\n```html\n<nav class=\"group\">\n  <button class=\"md:hidden group-hover:bg-gray-100 p-2 rounded\" \n          aria-label=\"Menu\">\n    <span class=\"block w-6 h-0.5 bg-gray-600 group-hover:bg-gray-800 transition-colors\"></span>\n  </button>\n  \n  <div class=\"hidden md:flex space-x-4\">\n    <a class=\"hover:text-blue-600 focus:text-blue-600 \n             focus:outline-none focus:underline\n             active:text-blue-800 transition-colors\" \n       href=\"#\">\n      Lien\n    </a>\n  </div>\n</nav>\n```\n\n**Formulaire complexe avec validation :**\n\n```html\n<form class=\"space-y-4 max-w-md\">\n  <div class=\"group\">\n    <label class=\"block text-sm font-medium group-focus-within:text-blue-600\">\n      Email\n    </label>\n    <input class=\"w-full border rounded px-3 py-2\n                  focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  invalid:border-red-500 invalid:ring-red-500\n                  peer\" \n           type=\"email\" \n           required>\n    <p class=\"hidden peer-invalid:block text-red-600 text-sm mt-1\">\n      Email invalide\n    </p>\n  </div>\n</form>\n```\n\nCette approche te permet de cr√©er des composants robustes qui fonctionnent sur tous les appareils."}],"keyPoints":["Les √©tats hover, focus et active cr√©ent des interactions fluides - combine-les avec transition-* pour des animations naturelles","Le syst√®me group permet de cr√©er des interactions parent-enfant sophistiqu√©es - utilise group/nom pour des groupes nomm√©s et imbriqu√©s","Les variants conditionnels (invalid, checked, disabled) am√©liorent l''UX des formulaires et maintiennent l''accessibilit√©","La combinaison de variants avec les breakpoints responsive permet des exp√©riences adaptatives sur tous les appareils","Les pseudo-√©l√©ments (before, after) et variants avanc√©s (peer, marker) offrent des possibilit√©s de design √©tendues sans CSS personnalis√©"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 5;

-- QCM : √âtats & Pseudo-classes
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Quelle classe Tailwind applique une couleur de fond bleue uniquement au survol d''un √©l√©ment ?","options":["bg-blue-500:hover","hover:bg-blue-500","bg-hover-blue-500","blue-500:hover"],"correct":1,"explanation":"En Tailwind CSS, les variants d''√©tat se placent avant la classe utilitaire, d''o√π hover:bg-blue-500."},{"question":"Comment appliquer une bordure rouge √† un input lorsqu''il a le focus ?","options":["border-red-500:focus","focus:border-red-500","input-focus:border-red-500","border-focus-red-500"],"correct":1,"explanation":"Le variant focus: se place avant la classe de bordure pour appliquer le style uniquement quand l''√©l√©ment a le focus."},{"question":"Quelle syntaxe permet d''appliquer un style √† un √©l√©ment enfant quand on survole le parent avec la classe group ?","options":["group-hover:text-white","hover-group:text-white","group:hover:text-white","hover:group:text-white"],"correct":0,"explanation":"group-hover: permet d''appliquer des styles aux enfants quand l''√©l√©ment parent avec la classe group est survol√©."},{"question":"Comment combiner les √©tats hover et focus pour appliquer une ombre √† un bouton ?","options":["hover:focus:shadow-lg","hover-focus:shadow-lg","hover:shadow-lg focus:shadow-lg","shadow-lg:hover:focus"],"correct":2,"explanation":"Il faut utiliser les deux variants s√©par√©ment : hover:shadow-lg focus:shadow-lg pour que l''ombre s''applique dans les deux √©tats."},{"question":"Dans un groupe, comment faire pour qu''un √©l√©ment enfant change de couleur au hover du parent ET au focus de l''enfant lui-m√™me ?","options":["group-hover:text-blue-500 focus:text-blue-500","group-hover:focus:text-blue-500","hover:group:focus:text-blue-500","group:hover:focus:text-blue-500"],"correct":0,"explanation":"Il faut combiner group-hover:text-blue-500 pour le survol du parent et focus:text-blue-500 pour le focus de l''√©l√©ment enfant."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 5;

-- Cours : Animations & Transitions
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Les transitions CSS avec Tailwind","content":"Les transitions permettent d''animer en douceur les changements de propri√©t√©s CSS. Tailwind propose plusieurs classes utilitaires pour contr√¥ler ces transitions facilement.\n\nPour activer les transitions, tu utilises la classe `transition` qui applique une transition sur toutes les propri√©t√©s animables, ou des classes plus sp√©cifiques comme `transition-colors`, `transition-transform`, `transition-opacity`.\n\nVoici un exemple basique :\n\n```html\n<button class=\"bg-blue-500 hover:bg-blue-700 transition duration-300 ease-in-out px-4 py-2 text-white rounded\">\n  Bouton avec transition\n</button>\n```\n\nTu peux contr√¥ler la dur√©e avec `duration-{time}` (75, 100, 150, 200, 300, 500, 700, 1000ms), l''acc√©l√©ration avec `ease-{type}` (linear, in, out, in-out), et m√™me ajouter un d√©lai avec `delay-{time}`.\n\nPour des transitions plus sp√©cifiques :\n\n```html\n<div class=\"transform hover:scale-110 transition-transform duration-200\">\n  √âl√©ment qui grandit au survol\n</div>\n\n<div class=\"opacity-50 hover:opacity-100 transition-opacity duration-500\">\n  √âl√©ment qui devient opaque\n</div>\n```\n\nLes transitions sont parfaites pour les interactions utilisateur comme les survols, les focus, ou les changements d''√©tat."},{"title":"Les animations pr√©d√©finies","content":"Tailwind inclut plusieurs animations CSS pr√™tes √† l''emploi que tu peux appliquer directement avec des classes utilitaires. Ces animations utilisent les keyframes CSS et se r√©p√®tent en boucle.\n\nLes animations principales sont :\n- `animate-spin` : rotation continue (parfait pour les indicateurs de chargement)\n- `animate-ping` : effet de pulsation qui s''agrandit et dispara√Æt\n- `animate-pulse` : variation d''opacit√© douce\n- `animate-bounce` : rebondissement vertical\n\nVoici des exemples pratiques :\n\n```html\n<!-- Indicateur de chargement -->\n<div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n\n<!-- Badge avec notification -->\n<div class=\"relative\">\n  <button class=\"bg-blue-500 text-white px-4 py-2 rounded\">Messages</button>\n  <span class=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-4 h-4 animate-ping\"></span>\n</div>\n\n<!-- Placeholder de chargement -->\n<div class=\"animate-pulse bg-gray-300 h-4 rounded mb-2\"></div>\n\n<!-- Call-to-action -->\n<button class=\"bg-green-500 text-white px-6 py-3 rounded animate-bounce\">\n  Cliquez ici !\n</button>\n```\n\nCes animations sont optimis√©es pour les performances et utilisent les transformations GPU quand c''est possible. Tu peux les combiner avec d''autres classes pour cr√©er des effets plus complexes."},{"title":"Personnaliser les animations avec les variantes","content":"Les animations et transitions peuvent √™tre conditionnelles gr√¢ce aux variantes de Tailwind. Tu peux d√©clencher des animations au survol, au focus, sur mobile, ou selon l''√©tat de l''√©l√©ment.\n\nLes variantes les plus utiles pour les animations :\n- `hover:` : d√©clenche au survol\n- `focus:` : d√©clenche au focus\n- `active:` : d√©clenche lors du clic\n- `group-hover:` : d√©clenche quand le parent est survol√©\n\nExemples pratiques :\n\n```html\n<!-- Card avec effet de survol -->\n<div class=\"group bg-white shadow-md hover:shadow-xl transition-shadow duration-300 p-6 rounded-lg\">\n  <h3 class=\"text-xl font-bold group-hover:text-blue-600 transition-colors\">Titre</h3>\n  <p class=\"mt-2 group-hover:translate-x-2 transition-transform duration-200\">Contenu qui se d√©cale</p>\n</div>\n\n<!-- Menu avec animations -->\n<nav>\n  <ul class=\"space-y-2\">\n    <li><a href=\"#\" class=\"block px-4 py-2 hover:bg-blue-100 hover:translate-x-2 transition-all duration-200\">Accueil</a></li>\n    <li><a href=\"#\" class=\"block px-4 py-2 hover:bg-blue-100 hover:translate-x-2 transition-all duration-200\">Services</a></li>\n  </ul>\n</nav>\n\n<!-- Input avec focus -->\n<input class=\"border-2 border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 px-3 py-2 rounded\" type=\"text\" placeholder=\"Votre email\">\n```\n\nTu peux aussi utiliser les variantes responsives comme `md:hover:animate-bounce` pour des comportements diff√©rents selon la taille d''√©cran."},{"title":"Animations avanc√©es avec Transform","content":"Les transformations CSS permettent de cr√©er des animations plus sophistiqu√©es. Tailwind offre des classes pour la rotation, la mise √† l''√©chelle, la translation et l''inclinaison.\n\nClasses de transformation principales :\n- `scale-{value}` : mise √† l''√©chelle (50, 75, 90, 95, 100, 105, 110, 125, 150)\n- `rotate-{degrees}` : rotation (1, 2, 3, 6, 12, 45, 90, 180)\n- `translate-{direction}-{size}` : d√©placement\n- `skew-{axis}-{degrees}` : inclinaison\n\nExemples d''animations complexes :\n\n```html\n<!-- Galerie d''images avec effets -->\n<div class=\"grid grid-cols-3 gap-4\">\n  <img src=\"image1.jpg\" class=\"transform hover:scale-110 hover:rotate-3 transition-transform duration-300 cursor-pointer\" alt=\"Image 1\">\n  <img src=\"image2.jpg\" class=\"transform hover:scale-110 hover:-rotate-3 transition-transform duration-300 cursor-pointer\" alt=\"Image 2\">\n</div>\n\n<!-- Card flip effect -->\n<div class=\"perspective-1000\">\n  <div class=\"transform hover:rotate-y-180 transition-transform duration-700 preserve-3d\">\n    <div class=\"backface-hidden\">\n      <p>Face avant</p>\n    </div>\n  </div>\n</div>\n\n<!-- Loading spinner personnalis√© -->\n<div class=\"relative\">\n  <div class=\"animate-spin transform rotate-45 w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full\"></div>\n</div>\n```\n\nN''oublie pas d''ajouter `transform` comme classe de base quand tu utilises des transformations avec des transitions pour assurer la compatibilit√©."},{"title":"Optimisation et bonnes pratiques","content":"Pour cr√©er des animations performantes et accessibles, il faut respecter certaines bonnes pratiques et optimiser tes animations.\n\nPrincipes d''optimisation :\n- Privil√©gie les propri√©t√©s qui n''affectent pas le layout (transform, opacity)\n- Utilise `will-change` pour pr√©parer les animations lourdes\n- √âvite d''animer trop d''√©l√©ments simultan√©ment\n- Respecte les pr√©f√©rences utilisateur avec `prefers-reduced-motion`\n\nExemple d''animation optimis√©e :\n\n```html\n<!-- Animation respectueuse de l''accessibilit√© -->\n<div class=\"motion-safe:animate-bounce motion-reduce:animate-none bg-blue-500 text-white px-4 py-2 rounded\">\n  Animation conditionnelle\n</div>\n\n<!-- Performance optimis√©e -->\n<div class=\"transform-gpu hover:scale-105 transition-transform duration-200 will-change-transform\">\n  √âl√©ment optimis√© pour GPU\n</div>\n\n<!-- Micro-interactions subtiles -->\n<button class=\"bg-blue-500 hover:bg-blue-600 active:scale-95 transition-all duration-150 px-4 py-2 text-white rounded focus:ring-2 focus:ring-blue-300\">\n  Bouton avec micro-interactions\n</button>\n```\n\nConsignes pour de meilleures animations :\n- Garde les dur√©es courtes (150-300ms pour les interactions)\n- Utilise `ease-out` pour les entr√©es et `ease-in` pour les sorties\n- Teste tes animations sur diff√©rents appareils\n- Pr√©voie des alternatives pour les utilisateurs sensibles aux mouvements\n\nPour d√©boguer, utilise les outils de d√©veloppement pour visualiser les performances et ajuster tes animations en cons√©quence."}],"keyPoints":["Utilise `transition` avec `duration-{time}` et `ease-{type}` pour des animations fluides sur les interactions utilisateur","Les animations pr√©d√©finies (`animate-spin`, `animate-pulse`, etc.) sont parfaites pour les indicateurs de chargement et effets de notification","Combine les variantes (`hover:`, `group-hover:`, `focus:`) avec les animations pour cr√©er des exp√©riences interactives riches","Les transformations (`scale`, `rotate`, `translate`) permettent des animations sophistiqu√©es sans impact sur les performances","Respecte l''accessibilit√© avec `motion-safe:` et `motion-reduce:` pour les utilisateurs sensibles aux mouvements"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 6;

-- QCM : Animations & Transitions
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Quelle classe Tailwind CSS applique une transition de 300ms sur toutes les propri√©t√©s animables ?","options":["transition-all","transition-300","transition","animate-300"],"correct":0,"explanation":"La classe transition-all applique une transition de 300ms par d√©faut sur toutes les propri√©t√©s qui peuvent √™tre anim√©es."},{"question":"Comment cr√©er une animation de rotation continue sur un √©l√©ment ?","options":["animate-rotate","animate-spin","rotate-infinite","transition-rotate"],"correct":1,"explanation":"La classe animate-spin applique une rotation continue de 360¬∞ en boucle infinie sur l''√©l√©ment."},{"question":"Quelle combinaison de classes permet de cr√©er un effet de survol avec une transition douce sur la couleur de fond ?","options":["bg-blue-500 hover:bg-blue-700 animate-pulse","bg-blue-500 hover:bg-blue-700 transition-colors","bg-blue-500 hover:bg-blue-700 duration-300","bg-blue-500 hover:bg-blue-700 ease-in-out"],"correct":1,"explanation":"transition-colors cible sp√©cifiquement les propri√©t√©s de couleur pour une transition optimis√©e, combin√©e avec hover: pour l''effet au survol."},{"question":"Comment personnaliser la dur√©e d''une transition pour qu''elle dure 500ms avec un easing personnalis√© ?","options":["transition duration-500 ease-linear","animate-500 ease-out","transition-all duration-[500ms] ease-in-out","transition duration-500 ease-in-out"],"correct":3,"explanation":"La combinaison transition + duration-500 + ease-in-out cr√©e une transition de 500ms avec un easing personnalis√© sur les propri√©t√©s par d√©faut."},{"question":"Comment cr√©er une animation personnalis√©e qui fait rebondir un √©l√©ment au chargement puis s''arr√™te, tout en ajoutant un d√©lai de 200ms ?","options":["animate-bounce animate-once delay-200","animate-bounce animation-iteration-count-1 delay-200","animate-bounce delay-200","bounce-once transition-delay-200"],"correct":2,"explanation":"animate-bounce cr√©e l''animation de rebond et delay-200 ajoute un d√©lai de 200ms avant le d√©marrage. L''animation s''arr√™te naturellement apr√®s un cycle complet."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 6;

-- QCM : Personnalisation du th√®me
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Quelle propri√©t√© dans tailwind.config.js permet d''ajouter de nouvelles couleurs tout en conservant les couleurs par d√©faut de Tailwind ?","options":["theme.colors","theme.extend.colors","theme.customColors","theme.addColors"],"correct":1,"explanation":"La propri√©t√© theme.extend.colors permet d''ajouter des couleurs personnalis√©es sans √©craser les couleurs par d√©faut de Tailwind CSS."},{"question":"Comment configurer une nouvelle famille de polices personnalis√©e appel√©e ''brand'' dans Tailwind ?","options":["theme.fonts: { brand: [''CustomFont'', ''sans-serif''] }","theme.extend.fontFamily: { brand: [''CustomFont'', ''sans-serif''] }","theme.typography: { brand: ''CustomFont'' }","theme.extend.fonts: { brand: ''CustomFont'' }"],"correct":1,"explanation":"La propri√©t√© theme.extend.fontFamily permet de d√©finir de nouvelles familles de polices avec un nom personnalis√© et une liste de fallbacks."},{"question":"Quelle est la syntaxe correcte pour cr√©er des breakpoints personnalis√©s avec des noms custom ?","options":["theme.breakpoints: { ''tablet'': ''768px'' }","theme.extend.screens: { ''tablet'': ''768px'' }","theme.mediaQueries: { ''tablet'': ''768px'' }","theme.responsive: { ''tablet'': ''768px'' }"],"correct":1,"explanation":"La propri√©t√© theme.extend.screens permet de d√©finir des breakpoints personnalis√©s avec des noms et des valeurs de largeur d''√©cran custom."},{"question":"Comment utiliser une fonction JavaScript pour g√©n√©rer dynamiquement des valeurs de spacing bas√©es sur une √©chelle modulaire ?","options":["theme.extend.spacing: () => { return generateScale() }","theme.extend.spacing: ({ theme }) => generateScale(theme)","theme.extend.spacing: generateScale()","theme.extend.spacing: (theme) => generateScale()"],"correct":1,"explanation":"Tailwind permet d''utiliser une fonction avec le param√®tre { theme } pour acc√©der aux valeurs existantes et g√©n√©rer dynamiquement de nouvelles valeurs de configuration."},{"question":"Quelle approche permet de cr√©er un plugin personnalis√© qui ajoute des utilitaires avec des variants et des modificateurs responsive ?","options":["plugin(function({ addUtilities, theme, variants }) { addUtilities(utilities, variants(''responsive'')) })","plugin(function({ addUtilities, theme, e }) { addUtilities(utilities, { variants: [''responsive''] }) })","plugin(function({ addUtilities, theme }) { addUtilities(utilities, [''responsive'']) })","plugin(function({ addUtilities, matchUtilities, theme }) { addUtilities(utilities, { respectPrefix: false, respectImportant: true }) })"],"correct":0,"explanation":"La fonction plugin avec addUtilities et variants(''responsive'') est la syntaxe correcte pour cr√©er des utilitaires personnalis√©s avec support des variants responsive."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 7;

-- Cours : Composants r√©utilisables & @apply
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'course', '{"sections":[{"title":"Ma√Ætrise de la directive @apply et ses subtilit√©s","content":"La directive @apply te permet d''extraire des patterns d''utilitaires r√©p√©titifs dans des classes personnalis√©es. Contrairement aux id√©es re√ßues, @apply ne se contente pas de copier-coller les classes - elle applique les styles de mani√®re intelligente en respectant la cascade CSS. Tu peux l''utiliser dans tes fichiers CSS ou dans la section @layer de ta configuration.\n\n```css\n@layer components {\n  .btn-primary {\n    @apply bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded;\n    @apply focus:outline-none focus:shadow-outline;\n    @apply transition-colors duration-200 ease-in-out;\n  }\n  \n  .card-elevated {\n    @apply bg-white rounded-lg shadow-lg p-6;\n    @apply border border-gray-100;\n    @apply hover:shadow-xl transition-shadow duration-300;\n  }\n}\n```\n\nAttention aux pi√®ges : @apply ne peut pas √™tre utilis√© avec les pseudo-√©l√©ments Tailwind (::before, ::after) ni avec les media queries complexes. Pour ces cas, combine @apply avec du CSS vanilla. De plus, √©vite d''appliquer @apply √† des utilitaires qui changent selon le contexte (comme les responsive breakpoints) dans une m√™me d√©claration."},{"title":"Architecture des composants avec @layer et organisation modulaire","content":"L''organisation de tes composants r√©utilisables n√©cessite une approche structur√©e avec les layers Tailwind. Les layers (base, components, utilities) d√©finissent l''ordre de priorit√© et permettent une architecture maintenable. Cr√©e une hi√©rarchie claire entre tes composants atomiques, mol√©culaires et organismes.\n\n```css\n@layer base {\n  /* Styles de base personnalis√©s */\n  h1, h2, h3 {\n    @apply font-bold text-gray-900;\n  }\n}\n\n@layer components {\n  /* Composants atomiques */\n  .btn {\n    @apply inline-flex items-center px-4 py-2 rounded-md font-medium;\n    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;\n  }\n  \n  /* Variantes de composants */\n  .btn--primary {\n    @apply bg-indigo-600 text-white hover:bg-indigo-700;\n    @apply focus:ring-indigo-500;\n  }\n  \n  /* Composants complexes */\n  .modal {\n    @apply fixed inset-0 z-50 overflow-y-auto;\n    @apply flex items-center justify-center min-h-screen px-4;\n  }\n  \n  .modal__backdrop {\n    @apply absolute inset-0 bg-black bg-opacity-50;\n  }\n  \n  .modal__content {\n    @apply relative bg-white rounded-lg max-w-md w-full;\n    @apply shadow-xl transform transition-all;\n  }\n}\n```\n\nStructure tes fichiers par fonctionnalit√© : components/buttons.css, components/forms.css, components/navigation.css. Cette approche modulaire facilite la maintenance et permet le tree-shaking."},{"title":"Patterns avanc√©s : variants personnalis√©s et composition","content":"Pour cr√©er des composants v√©ritablement flexibles, combine @apply avec des CSS custom properties et des variants personnalis√©s. Cette approche te permet de cr√©er des syst√®mes de design coh√©rents tout en conservant la flexibilit√©.\n\n```css\n@layer components {\n  .alert {\n    --alert-bg: theme(''colors.gray.100'');\n    --alert-border: theme(''colors.gray.300'');\n    --alert-text: theme(''colors.gray.800'');\n    \n    @apply px-4 py-3 rounded-md border-l-4;\n    @apply bg-[var(--alert-bg)] border-[var(--alert-border)] text-[var(--alert-text)];\n  }\n  \n  .alert--success {\n    --alert-bg: theme(''colors.green.50'');\n    --alert-border: theme(''colors.green.400'');\n    --alert-text: theme(''colors.green.800'');\n  }\n  \n  .alert--error {\n    --alert-bg: theme(''colors.red.50'');\n    --alert-border: theme(''colors.red.400'');\n    --alert-text: theme(''colors.red.800'');\n  }\n}\n\n/* Pattern de composition avanc√© */\n@layer components {\n  .form-field {\n    @apply space-y-2;\n  }\n  \n  .form-field__label {\n    @apply block text-sm font-medium text-gray-700;\n  }\n  \n  .form-field__input {\n    @apply w-full px-3 py-2 border border-gray-300 rounded-md;\n    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;\n    @apply disabled:bg-gray-50 disabled:text-gray-500;\n  }\n  \n  .form-field--error .form-field__input {\n    @apply border-red-300 focus:ring-red-500;\n  }\n}\n```\n\nCette approche te permet de cr√©er des variants sans dupliquer le code tout en maintenant la coh√©rence visuelle."},{"title":"Int√©gration avec les frameworks et optimisation des performances","content":"L''int√©gration de tes composants @apply avec les frameworks modernes n√©cessite une attention particuli√®re aux performances et √† la r√©utilisabilit√©. Utilise des strat√©gies diff√©rentes selon ton contexte : composants CSS purs, CSS-in-JS, ou composants de framework.\n\n```css\n/* Pour React/Vue avec CSS Modules */\n@layer components {\n  .dataTable {\n    @apply w-full border-collapse;\n  }\n  \n  .dataTable__header {\n    @apply bg-gray-50 border-b border-gray-200;\n  }\n  \n  .dataTable__cell {\n    @apply px-6 py-4 text-sm text-gray-900;\n    @apply border-b border-gray-200;\n  }\n  \n  .dataTable__row:hover .dataTable__cell {\n    @apply bg-gray-50;\n  }\n}\n\n/* Pattern pour les composants dynamiques */\n@layer components {\n  .progress {\n    @apply w-full bg-gray-200 rounded-full h-2;\n    @apply overflow-hidden;\n  }\n  \n  .progress__bar {\n    @apply h-full transition-all duration-300 ease-out;\n    @apply bg-gradient-to-r from-blue-500 to-blue-600;\n    width: var(--progress-value, 0%);\n  }\n}\n```\n\nOptimise tes performances en : √©vitant les @apply trop complexes qui gonflent le CSS final, utilisant la purge CSS correctement, cr√©ant des composants conditional avec des CSS custom properties plut√¥t que des classes multiples. Pour les projets √† grande √©chelle, consid√®re l''utilisation d''outils comme Headless UI qui combinent logique JavaScript et styles Tailwind."},{"title":"Maintenance et √©volution des syst√®mes de composants","content":"La maintenance d''un syst√®me de composants bas√© sur @apply demande une approche m√©thodique. √âtablis des conventions de nommage claires, documente tes patterns et mets en place des outils de validation. La cl√© est de traiter tes composants @apply comme une API interne qui √©volue.\n\n```css\n/* Convention de nommage coh√©rente */\n@layer components {\n  /* Composant de base */\n  .pagination {\n    @apply flex items-center justify-center space-x-1;\n  }\n  \n  /* √âl√©ments du composant */\n  .pagination__item {\n    @apply px-3 py-2 text-sm leading-tight text-gray-500;\n    @apply bg-white border border-gray-300;\n  }\n  \n  /* √âtats du composant */\n  .pagination__item--active {\n    @apply bg-blue-50 border-blue-300 text-blue-600;\n  }\n  \n  .pagination__item--disabled {\n    @apply opacity-50 cursor-not-allowed;\n  }\n  \n  /* Variants du composant */\n  .pagination--compact .pagination__item {\n    @apply px-2 py-1 text-xs;\n  }\n}\n\n/* Documentation int√©gr√©e avec CSS custom properties */\n:root {\n  /* Design tokens pour maintenir la coh√©rence */\n  --component-padding-sm: theme(''spacing.2'');\n  --component-padding-md: theme(''spacing.4'');\n  --component-padding-lg: theme(''spacing.6'');\n  \n  --component-radius-sm: theme(''borderRadius.md'');\n  --component-radius-md: theme(''borderRadius.lg'');\n}\n```\n\nMets en place des tests visuels avec des outils comme Chromatic ou Percy pour d√©tecter les r√©gressions. Utilise un changelog pour documenter les √©volutions de tes composants et maintiens une gallery/storybook pour visualiser tous tes patterns. N''h√©site pas √† refactorer r√©guli√®rement : @apply facilite ces modifications globales."}],"keyPoints":["@apply respecte la cascade CSS et les layers - utilise @layer components pour organiser tes composants personnalis√©s","Combine @apply avec les CSS custom properties pour cr√©er des variants flexibles sans duplication de code","Structure tes composants de mani√®re modulaire : atomiques, mol√©culaires, organismes avec une convention de nommage coh√©rente","Optimise les performances en √©vitant les @apply trop complexes et en utilisant la purge CSS intelligemment","Traite tes composants @apply comme une API interne : documente, versionne et teste visuellement tes changements"]}'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 8;

-- QCM : Composants r√©utilisables & @apply
INSERT INTO generated_content (chapter_id, content_type, content)
SELECT c.id, 'qcm', '[{"question":"Quelle est la syntaxe correcte pour utiliser la directive @apply dans une classe CSS personnalis√©e ?","options":[".btn-primary { @apply bg-blue-500 text-white px-4 py-2; }",".btn-primary { apply: bg-blue-500 text-white px-4 py-2; }",".btn-primary @apply bg-blue-500 text-white px-4 py-2;",".btn-primary { @apply: bg-blue-500 text-white px-4 py-2; }"],"correct":0,"explanation":"La directive @apply s''utilise √† l''int√©rieur des accolades d''une classe CSS, sans deux-points apr√®s @apply."},{"question":"Dans quel fichier et √† quel endroit doit-on placer ses composants personnalis√©s utilisant @apply ?","options":["Dans un fichier s√©par√© components.css import√© apr√®s Tailwind","Dans le fichier principal CSS, dans la couche @layer components","Directement dans les fichiers HTML avec des balises <style>","Dans un fichier JavaScript comme constantes"],"correct":1,"explanation":"La couche @layer components permet d''organiser les composants personnalis√©s et respecte l''ordre de priorit√© CSS de Tailwind."},{"question":"Quel avantage principal offre @apply par rapport √† l''√©criture de CSS vanilla pour cr√©er des composants ?","options":["Meilleure performance au runtime","Compatibilit√© automatique avec tous les navigateurs","Coh√©rence avec le design system et les breakpoints de Tailwind","R√©duction de la taille finale du CSS compil√©"],"correct":2,"explanation":"@apply permet d''utiliser les utilitaires Tailwind qui respectent automatiquement le design system, les breakpoints et les variants configur√©s."},{"question":"Comment cr√©er un composant avec des variants conditionnels en utilisant @apply ?","options":[".btn { @apply px-4 py-2; } .btn-primary { @apply @extends(.btn) bg-blue-500; }",".btn { @apply px-4 py-2; } .btn--primary { @apply bg-blue-500 text-white; }",".btn { @apply px-4 py-2 [&.primary]:bg-blue-500 [&.primary]:text-white; }",".btn { @apply px-4 py-2; @variants primary { @apply bg-blue-500 text-white; }}"],"correct":1,"explanation":"La m√©thode BEM avec des classes s√©par√©es (.btn--primary) est la plus propre pour cr√©er des variants avec @apply."},{"question":"Quelle limitation importante doit-on consid√©rer lors de l''utilisation intensive de @apply dans un projet ?","options":["Les composants @apply ne supportent pas les pseudo-classes hover et focus","Cela peut r√©duire les b√©n√©fices du tree-shaking et augmenter la complexit√©","Les classes cr√©√©es avec @apply ne sont pas compatibles avec le mode sombre","Il est impossible d''utiliser des valeurs personnalis√©es du theme avec @apply"],"correct":1,"explanation":"L''abus de @apply peut contrecarrer l''approche utility-first de Tailwind et rendre le CSS moins maintenable, tout en r√©duisant l''efficacit√© du purging."}]'::jsonb
FROM chapters c WHERE c.tech_id = 'tailwind' AND c.display_order = 8;

